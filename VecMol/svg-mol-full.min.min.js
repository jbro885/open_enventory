var ab="Sciformation VectorMol (c) 2012-2018 Felix Rudolphi",M=Math,ac=90,ad=120,ae=180,af=M.PI/ae,ag=1/af,ah=2*M.atan(M.SQRT2),ai=ah*ag,aj=360,ak=21600,T=true,F=false,al,S=" ",am="px",an=Number.MAX_VALUE,ao="obj",C="C",H="H",ap="\nM  ",aq="SUP",ar="MUL",as="SRU",at=".menuPopup",au=".menuWithPopup",av=[0,2,1,3],aw="font-size",ax="stroke",ay="stroke-opacity",az="stroke-width",aA="stroke-dasharray",aB="--",aC="text-anchor",aD="fill",aE="<sub>",aF="</sub>",aG="atom",aH="draw",aI="drawChain",aJ="drawHotspot",aK="selRect",aL="selLasso",aM="rotate",aN="3d_rotate",aO="bond_rotate",aP="delete",aQ="insertTemplate",aR="paste",aS="drawPlus",aT="drawArrow",aU="zoomIn",aV,aW,aX,aY,aZ,a0,a1,a2,a3,a4,a5=0,a6=new RegExp("^(\\d*)([A-Z%][a-z]{0,2})(H\\d*)?\\s*(\\d*[\\+\\-]+)?\\s*$"),a7={8:0,4:1.5},a8=0,a9=1,a_=2,ba=3,bb=4;
bc=parseInt;
function bd(){for(var c=0,b=0,a=arguments.length;
b<a;
b++){c+=arguments[b]}return c/a}function be(b){var e=[],f=[],d,c,a;
for(d in b){f.push(d)}f.sort();
for(c=0,a=f.length;
c<a;
c++){d=f[c];
e[d]=b[d];
delete b[d]}for(c=0,a=f.length;
c<a;
c++){d=f[c];
b[d]=e[d]}}function bf(a,c){for(var b in a){if(a[b]==c){return b}}}function bg(b){if(!b){return b}var a=/^[\s\n\r\t]*(.*?)[\s\n\r\t]*$/;
if(a.exec(b)){return RegExp.$1}}function bh(e,h,j){if(!$.isArray(h)){return e}var a=[],f=0,b,g,d,c;
for(d=0,c=h.length;
d<c;
d++){b=h[d];
g=e.substr(f,b);
if(!j){g=bg(g)}a.push(g);
f+=b}if(e.length>b){g=e.substr(f);
if(!j){g=bg(g)}a.push(g)}return a}function bi(d){for(var c=[],b,e=0,a=(d?d.length:0);
e<a;
e++){if(d.charAt(e)==S){continue}b=d.indexOf(S,e+1);
if(b==-1){c.push(d.substr(e));
break}c.push(d.substring(e,b));
e=b}return c}function bj(b,c,a){var d=b.substr(0,c.length);
if(a!=T){d=d.toLowerCase();
c=c.toLowerCase()}return(d==c)}function bk(c,d,b){var e=c.length-d.length,a;
if(e<0){return F}a=c.substr(e);
if(b!=T){a=a.toLowerCase();
d=d.toLowerCase()}return(a==d)}function bl(b){if(b==al||b==""){return""}b=String(b);
var a="\n";
b=b.replace(/:/g,".");
b=b.replace(/\r\n/g,a);
b=b.replace(/\r/g,a);
b=b.replace(/\|/g,a);
return b}function bm(e,c){c=bc(c);
if(isNaN(c)||c<1){return""}e=String(e);
for(var d="",b=0;
b<c;
b++){d+=e}return d}function bn(a,b){return bo(a,b,S)}function bo(c,d,b){c=String(c);
if(c.length>d){return c.substr(0,d)}var a=c.length;
while(a<d){a++;
c=b+c}return c}function bp(c,d,b){c=String(c);
if(c.length>d){return c.substr(0,d)}var a=c.length;
while(a<d){a++;
c+=b}return c}function bq(a){a=String(a);
return a.replace(/(["\\])/g,"\\$1")}function br(a){return'"'+bq(a)+'"'}function bs(a,b){if(a==al||a==null||(isNaN(a)&&typeof a=="number")){return b}return a}function bt(a){return bs(a,0)}function bu(a){return bs(a,"")}function bv(b){b=String(b);
var a=b.match(/\-?\d+[\.,]?\d*/);
if(a!=null&&a.length>0){return bu(a[0])}return""}function bw(c,b,a){return M.max(b,M.min(a,c))}function round(c,e,f){var g=1,d,b,a;
c=parseFloat(c);
e=bc(e);
if(isNaN(c)||c==al){return""}if(f!=3){if(c==0){return 0}if(c<0){g=-1;
c*=-1}}b=M.pow(10,e);
switch(f){case 1:d=M.floor(M.log(c)/M.LN10);
break;
case 2:d=M.floor(M.log(c)/3/M.LN10)*3;
break;
case 3:return c.toFixed(bw(e,0,20));
break;
case 4:e-=M.ceil(M.log(c)/M.LN10);
return g*c.toFixed(bw(e,0,20));
break;
default:return(g*M.round(c*b)/b)}switch(f){case 1:case 2:a=String(g*M.round(c/M.pow(10,d)*b)/b);
if(d==0){return a}return a+"&sdot;10<sup>"+d+"</sup>"}}function bx(c){var b=location.search,d,a;
if(b&&c){d=new RegExp("[&?]"+c+"=([^&$]*)");
if(a=d.exec(b)){return a[1]}}}function by(){return a5++}function s(a){return bu(langDef[a])}function bz(){if($.inArray(lang,bA)>=0){document.write('<script type="text/javascript" src="lang_'+lang+'.js"><\/script>')
}}function bB(){$(".button, .wTooltip").attr("title",function(){return s(this.id)})}function bC(){this.bD=by();
this.bE=this.bD;
this.bF=bF}function bG(b,a,c){if(b.bH){c.bE=a.bE}b.bI[a.bD]=c}function bF(a){return a!=al&&this.bE==a.bE}function bJ(a){return a!=al&&this.bD==a.bD}function bK(a,b){return bL(a,b)>=0}function bL(b,d){for(var c=0,a=b.length;
c<a;
c++){if(b[c].bF(d)){return c}}return -1}function bM(b,a){b.push.apply(b,a)}function bN(a,b){if(b!=al){a.push(b)}}function bO(a,c){for(var b=a.length-1;
b>=0;
b--){if(!bK(c,a[b])){a.splice(b,1)}}}function bP(b,a){for(var c,d=b.length-1;
d>=0;
d--){for(c=a.length-1;
c>=0;
c--){if(b[d].bF(a[c])){b.splice(d,1);
break}}}}function bQ(b,e,c){for(var d=0,a=b.length;
d<a;
d++){if(b[d].bF(e)){b[d]=c;
return T}}return F}function bR(d,b){if(b){for(var c=0,a=b.length;
c<a;
c++){if(b[c].bF(d)){b.splice(c,1);
return T}}}return F}function bS(a,b){if(b==al){b=1}if(b!=0){a.unshift.apply(a,a.splice(b,a.length))}}function bT(b,d){for(var c=0,a=d.length;
c<a;
c++){if(!bK(b,d[c])){return F}}return T}function bU(e,d){var b=Array.apply(al,arguments),c=[],f,a;
if(b.length>2){e=b.pop();
d=bU.apply(al,b)}for(f=0,a=e.length;
f<a;
f++){if(bK(d,e[f])){c.push(e[f])}}return c}function bV(e,b){for(var c=[],d=0,a=e.length;
d<a;
d++){if(!bK(b,e[d])){c.push(e[d])}}return c}function bW(c,b){for(var d=0,a=b.length;
d<a;
d++){bX(c,b[d])}}function bX(a,b){if(b!=al&&!bK(a,b)){a.push(b);
return T}return F}function bY(a){if(a==al){return al}return this.bI[a.bD]}function bZ(b){if(b==al){return al}var c=this.bI[b.bD],a;
if(!c){for(a in this.bI){if(b.bF(this.bI[a])){return b}}c=b.b0(this);
this.bI[b.bD]=c}return c}function b1(a){this.bI={};
this.bH=a;
this.bY=bY;
this.bZ=bZ}function b2(a){return(720+a)%aj}function b3(a){var b=this.b0();
b.x+=a.x;
b.y+=a.y;
b.z+=a.z;
return b}function b4(b,a){var c=this.b0();
c.x-=b.x;
c.y-=b.y;
c.z=(a?0:c.z-b.z);
return c}function b5(b){var c=this,a=c.b6();
return(a>0?c.b7((b||1)/a):new b8())}function b9(b,a,d){var c=this;
if(b instanceof b8){c.x+=b.x;
c.y+=b.y;
c.z+=b.z}else{c.x+=b;
c.y+=a;
c.z+=bt(d)}}function b_(a){return(this.x==a.x&&this.y==a.y&&this.z==a.z)}function ca(g,e,c){var f=this,a,b,d;
if(f.b6()==0||f.cb(g)<0){return F}a=f.cc(g,e);
if(!a){return isNaN(a)}b=f.cc(e,c);
if(!b){return isNaN(b)}return(d=f.cc(c,g)?(a*b>0&&a*d>0):isNaN(d))}function cd(b,a){var d=this.cb(b.ce(a));
if(d==0&&this.cf(a)<b.cf(a)){return NaN}return d}function cg(a){var b=this;
return new b8(b.x*a,b.y*a,b.z*a)}function ch(b,a){if(b!=1){var c=this;
if(a){c.ci(-a.x,-a.y,-a.z)}c.x*=b;
c.y*=b;
c.z*=b;
if(a){c.ci(a)}}}function cj(b,a){var c=this;
if(b&1){c.x=2*a.x-c.x}if(b&2){c.y=2*a.y-c.y}}function ck(c,b){if(b){this.ci(-b.x,-b.y,-b.z)}var f=this,d=M.cos(c),e=M.sin(c),a=f.x*d-f.y*e;
f.y=f.x*e+f.y*d;
f.x=a;
if(b){f.ci(b)}}function cl(d,c,a){if(a){this.ci(-a.x,-a.y,-a.z)}var g=this,b=M.cos(c),f=M.sin(c),e=g.z*b-g.x*f;
g.x=g.x*b+g.z*f;
b=M.cos(d);
f=M.sin(d);
g.z=g.y*f+e*b;
g.y=g.y*b-e*f;
if(a){g.ci(a)}}function cm(i,h,g,f){var e=this,c=e.cn(i),b=e.cn(h),d=co(c,b),a;
if(f){a=c.ce(b);
a=a.ce(d).cp();
if(a){d.cq(f*af,a)}}if(g){d=d.cp(g)}d.ci(e);
return d}function cr(a){var b=this.cn(a);
return M.abs(b.x)+M.abs(b.y)-M.abs(b.z)}function cs(g,e,d){var f=this,c=g.cn(f),b=e.cn(f),a=c.ce(b);

if(d){a=a.ce(d.cn(f))}return a.cp()}function ct(m,g,a){if(m){if(a){this.ci(-a.x,-a.y,-a.z)}var e=this,i=M.cos(m),h=1-i,f=M.sin(m),l=e.x,k=e.y,j=e.z,d=g.x,c=g.y,b=g.z;
e.x=l*(i+d*d*h)+k*(d*c*h-b*f)+j*(d*b*h+c*f);
e.y=l*(c*d*h+b*f)+k*(i+c*c*h)+j*(c*b*h-d*f);
e.z=l*(b*d*h-c*f)+k*(b*c*h+d*f)+j*(i+b*b*h);
if(a){e.ci(a)}}}function cu(){return M.sqrt(this.cb(this))}function cv(b,a){var c=this.cn(b);
if(a){c.z=0}return c.b6()}function cw(a){var b=this;
return b.x*a.x+b.y*a.y+b.z*a.z}function cx(b,a){var c=this;
if(a){c=c.cn(a);
b=b.cn(a)}return new b8(c.y*b.z-c.z*b.y,c.z*b.x-c.x*b.z,c.x*b.y-c.y*b.x)}function cy(g,d,b){var f=this,e=f.cn(g),c=f.cn(d),a=f.cn(b);
return e.ce(c).cb(a)}function cz(h,f,c){var a=this,i=h.cn(a),g=f.cn(a),d=c.cn(a),e=i.cA(g).cA(d),b=[];
b.push(e.ce(i).cp());
b.push(e.ce(g).cp());
b.push(e.ce(d).cp());
return b}function cB(b,c){if(c){return b2(this.cC(c)-this.cC(b))}else{var a=b.x-this.x,d=b.y-this.y;
if(!a&&!d){return 0}return b2(M.atan2(d,a)*ag)}}function cD(d,c){var e=this,b,a;
if(c){d=d.cn(e);
c=c.cn(e)}else{c=e}if((b=d.b6())&&(a=c.b6())){return b2(M.acos(d.cb(c)/b/a)*ag)}}function cE(b,a){return this.cF(b,a)>0}function cG(b,a){var c=b.cH(a,T);
if(c>0){return M.abs(this.cF(b,a))/c}}function cI(b,a){return((a.x-b.x)*(this.y-b.y)-(a.y-b.y)*(this.x-b.x))}function co(b,a){return new b8(0.5*(b.x+a.x),0.5*(b.y+a.y),0.5*(b.z+a.z))}function cJ(c,b,a){return this.x>=M.min(c.x,b.x)-a&&this.x<=M.max(c.x,b.x)+a&&this.y>=M.min(c.y,b.y)-a&&this.y<=M.max(c.y,b.y)+a}function cK(f,e,c){for(var b=F,d=1,a=f.length;
d<a;
d++){if((((f[d].y<=c)&&(c<f[d-1].y))||((f[d-1].y<=c)&&(c<f[d].y)))&&(e<(f[d-1].x-f[d].x)*(c-f[d].y)/(f[d-1].y-f[d].y)+f[d].x)){b=!b}}return b}function cL(c,b){var a=this;
if(b&&(b.x>a.x||b.x2<a.x||b.y>a.y||b.y2<a.y)){return F}return cK(c,a.x,a.y)}function cM(){return this.x+","+this.y}function cN(b,a){return(this.x+b)+","+(this.y+a)}function cO(){var a=this;
return new b8(a.x,a.y,a.z)}function cP(f,e,b,a){var d=e*af,c=b*af;
return new b8(f.x+a*M.cos(c)*M.cos(d),f.y+a*M.cos(c)*M.sin(d),f.z+a*M.sin(c))}function cQ(c,b,a){return cP(c,b,0,a)}function cR(e,d,c){var a=e.cH(d),b;
if(!a){return new b8()}b=c/a;
return new b8(b*(d.y-e.y),b*(d.x-e.x),0.5*(e.z+d.z))}function cS(e,d,a,c){var b,f;
if(c){b=1-c;
e.x=b*e.x+d.x*c;
e.y=b*e.y+d.y*c;
d.x=b*d.x+e.x*c;
d.y=b*d.y+e.y*c}if(a){f=cR(e,d,a);
e.x+=f.x;
d.x+=f.x;
e.y-=f.y;
d.y-=f.y}}function cT(d,c,b){var a=1;
if(d>c){a+=0.3*(d-c)/(b-c)}if(a<1.02){a=1}return a*a}function cU(n,b,q,l,g,o){var r=this,i=r.cV(),c=r.cW.cX.b0(),a=r.cY.cX.b0(),f=r.cZ(),e,k,p,j,h,m,d;
g=(g||1);
if(f){e=M.max(f.c0.z,0.5*c1);
k=bd(e,M.min(f.c2.z,-0.5*c1));
g=M.min(g*cT(a.z,k,e),3.5)*b;
b*=cT(c.z,k,e)}else{g*=b}if(!n[aA]&&(p=(c.cH(a,T)/c3))){l=bt(l)+c4;
cS(c,a,q,l);
j=c5*(a.y-c.y)/p;
h=c5*(a.x-c.x)/p;
d=i.path("M"+c.c6(-j*b,h*b)+"L"+c.c6(j*b,-h*b)+"L"+a.c6(j*g,-h*g)+"L"+a.c6(-j*g,h*g)+"Z");
if(!o){l-=c4+c7;
c=r.cW.cX.b0();
a=r.cY.cX.b0();
cS(c,a,q,l);
j/=c5;
h/=c5;
n[az]=0;
m=i.path("M"+c.c6(-j*b,h*b)+"L"+c.c6(j*b,-h*b)+"L"+a.c6(j*g,-h*g)+"L"+a.c6(-j*g,h*g)+"Z").attr(aD,n[ax])}}else{cS(c,a,q,l);
d=i.path("M"+c+"L"+a);
n[az]=c3*M.min(b,g);

if(!o){m=i.path("M"+c+"L"+a)}}r.c8.push(d.attr({fill:c9,stroke:c9,"stroke-width":c_*n[az]}));
if(m){r.c8.push(m.attr(n))}}function da(d,c){if(c||st.db||d.dc||d.dd||d.de||d.df!=C||d.dg!=al||!d.dh.length){return T}if(d.dh.length!=2){return F}for(var b=0,a=d.dh.length;
b<a;
b++){if(d.dh[b].di!=2){return F}}return T}function dj(a){var c=this,b;
if(c.c8){if(a&&dk(c.c8)){a.insertAfter(c.c8)}c.c8.remove()}else{if(a&&(b=c.getInsertBefore())){a.insertBefore(b)}}c.c8=a}function dl(b){for(var e,d,c=0,a=b.length;
c<a;
c++){d=b[c].c8;
if(dk(d)){if(e){d.insertAfter(e)}e=d}}}function dm(b){var a;
if(b){if(!(a=b.node)&&b.length){a=b[0].node}}return(a&&a.parentNode)}function dk(a){var b;
if(a){if(!(b=a.node)&&a.length){b=a[a.length-1].node}}return(b&&b.parentNode)}function getInsertBefore(){for(var g=this,c=st.dn(),e=g.dp(),b=c.dq(F),f,d=0,a=b.length;
d<a;
d++){f=b[d];
if(f.dp()>=e&&dm(f.c8)){return f.c8}}}function dr(){this.c8=al}function ds(){var d=this,c=d.cV(),a=0.5*dt,b=c.path("M-"+a+",0H"+a+"M0,-"+a+"V"+a).attr(ax,d.du?dv:dw).attr(az,dx).transform("t"+d.cX).data(ao,d).mouseover(dy).mouseout(dz);
d.dj(b)}function dA(){var a=this,b=a.cV(),d,e=0.5*dB,i=0.5*(1-dC),h=a.dD.b0(),g=a.dD.b0(),c=a.dE.b0(),j=a.dE.b0(),f=dw;
if(a.dF){f=dG}else{if(a.du){f=dv}}cS(c,h,e,i);
cS(j,g,-e,i);
d=b.path("M"+a.dE+"L"+a.dD+"L"+h+"M"+a.dD+"L,"+g).attr(ax,f).attr(az,dx).data(ao,a).mouseover(dH).mouseout(dI);
a.dj(d);
dJ(a)}function dK(a){a.remove()}function dL(b){var a=this;
if(a.c8){a.c8.forEach(dK);
a.c8.clear()}else{a.c8=b.set()}return a.c8}function dM(){if(!this.dN&&!this.dO&&!this.dP){var N=this,o=N.cZ(),j,u,E,B,k,f,J,g,m,b,D,I,l,t,r,G,z,n,L,A,h,a,w,p,v,q=N.cV(),y={},e=N.cW.cX,d=N.cY.cX,K=bd(e.z,d.z),x=dw,c=(N.dc?1.3:1);
if(o){o.dQ();
j=o.c2.z;
u=bd(o.c0.z,j)}if(N.dF){x=dG}else{if(N.du){x=dv}}if(N.dc){x=tinycolor.mix(x,"#00f",50)}if(K<u&&j<u){x=tinycolor(x);
y[ax]=x.brighten(0.13*(255-x.getBrightness())*(u-K)/(u-j)).toString()}else{y[ax]=x}N.dL(q);
switch(N.di){case 1.5:case 2:h=0;
a=N.cW.dh.length;
w=N.cY.dh.length;
if((a==1||w==1)&&(a>=3||w>=3||a==w)){}else{p=N.dR();
if(p.length){f=0;
for(E=0,B=p.length;
E<B;
E++){A=p[E].dS.length;
if(!k||A<f){f=A;
k=p[E]}}J=k.dT()}else{J=new b8();
g=0;
for(E=0,B=N.cW.dh.length;
E<B;
E++){m=N.cW.dh[E];
b=(N.cW.bF(m.cW)?m.cY:m.cW);
if(b.bF(N.cY)){continue}J.x+=b.cX.x;
J.y+=b.cX.y;
g++}for(E=0,B=N.cY.dh.length;
E<B;
E++){m=N.cY.dh[E];
b=(N.cY.bF(m.cW)?m.cY:m.cW);
if(b.bF(N.cW)){continue}J.x+=b.cX.x;
J.y+=b.cX.y;
g++}if(g){J.x/=g;
J.y/=g}}h=(e.cC(d)-J.cC(d))*af;
if(M.abs(h)>M.PI){h*=-1}}if((h+2*M.PI)%M.PI>0.01||(a==2&&w==2)||(p&&p.length)){N.dU(y,c);
if(N.di==1.5){y[aA]=[aB]}N.dU(y,c,2*(h>0?-1:1),0.15)}else{N.dU(y,c,-1,-0.05);
if(N.di==1.5){y[aA]=[aB]}N.dU(y,c,1,-0.05)}break;
case 3:N.dU(y,c,-1.5,0.15),N.dU(y,c),N.dU(y,c,1.5,0.15);
break;
default:if(N.dV!=0){J=(N.dV!=1);
N.dU(y,c,0,0,(J?2:4),J)}switch(N.dV){case 1:break;
case 4:y[az]=c3*c;
D=e.cH(d);
l=1.5;
I=2;
if(D){G=0;
I/=D;
t=I*(d.y-e.y);
r=I*(d.x-e.x);
n=0;
v="M"+e;
for(E=0;
E<=D;
E+=l){G++;
n=E/D;
z=(G%2?1:-1);
v+="L"+(e.x*(1-n)+(d.x+t*z)*n)+","+(e.y*(1-n)+(d.y-r*z)*n)}N.c8.push(q.path(v).attr(y))}break;
case 6:y[az]=c3*c;

D=e.cH(d);
l=2;
I=2;
if(D){I/=D;
t=I*(d.y-e.y);
r=I*(d.x-e.x);
v="";
for(E=0;
E<=D;
E+=l){n=E/D;
L=1-n;
v+="M"+(e.x*L+n*(d.x+t))+","+(e.y*L+n*(d.y-r))+"L"+(e.x*L+n*(d.x-t))+","+(e.y*L+n*(d.y+r))}N.c8.push(q.path(v).attr(y))}break;
default:if(N.di==0){y[aA]=[aB]}N.dU(y,c)}}}else{this.dj()}dJ(this)}function dW(a,c){var b=this;
a.dX.attr(aw,16*c).attr(az,c3);
a.bbox=a.dX.getBBox(T);
a.dY=b.dZ.rect(a.bbox.x-a.d0,a.bbox.y-a.d0,a.bbox.width+2*a.d0,a.bbox.height+2*a.d0).attr(aD,a.c9).attr(az,0).insertBefore(a.dX);
b.d1.push(a.dY,a.dX);
b.d2.push(a)}function d3(b,a){var e=this,d,c;
if(d4){if(b){e.x+=b;
e.dX.node.setAttribute("x",e.x);
e.dY.node.setAttribute("x",e.x-e.d0)}if(a){e.y+=a;
e.dX.node.setAttribute("y",e.y);
e.dY.node.setAttribute("y",e.y-e.d0)}}else{e.x+=bt(b);
e.y+=bt(a);
d=M.round(e.x*ak);
c=M.round(e.y*ak);
e.dX.shape.path=" m"+d+","+c+" l"+(d+1)+","+c+" e"}}function d5(b,h,f,i,e,g,c,d){var a=this;
a.dZ=b;
a.x=h;
a.y=f;
a.c9=g;
a.d0=bt(c);
a.dX=a.dZ.text(h,f,i).attr(ax,e).attr(aD,e).attr(aC,"start");
if(d){a.dX.attr("font-weight","bold")}a.bbox=a.dX.getBBox(T);
a.d6=d3}function d7(){for(var c=this,b=0,a=c.d2.length;
b<a;
b++){c.d2[b].dX.insertAfter(c.d1)}return this.d1}function d8(c,a){var b=this;
b.dZ=c;
b.d1=a;
b.d2=[];
b.d9=dW;
b.d7=d7}function d_(){if(!this.dO&&!this.dN&&!this.dP){var I=this,v=I.cV(),x=I.cX,z=I.ea(),l,a,j,J=c9,d=I.eb(),t=d.ec,e,b,q,E,f,u,g,r,k,n,y,c,h=0,G=0,D=0,o,w=0.8,B,A,m=I.dc;
if(!v){return}if(t&&d.bF(t.ed)){J=ee}if(I.dF){j=dG}else{j=dw}if(m||d.bF(ef)){a=(this.eg?eh:ei)}else{if(I.du){a=dv}}I.dL(v);
if(!da(I,z)){if(a||J!=c9){l=v.rect(x.x-ej*ek,x.y-ej*ek,2*ej*ek,2*ej*ek);
if(a){l.attr(ax,a).attr(az,c3)}else{l.attr(az,0)}if(J!=c9){l.attr(aD,(el?"red":J))}I.c8.push(l)}}else{e=new d8(v,I.c8);
b=!!(A=I.dh.length);
for(B=0;
B<A;
B++){q=I.dh[B];
o=em(q.cW,q.cY)+90;
if(I.bF(q.cY)){o+=ae}o%=aj;
if(o>ae){b=F;
break}}E=new d5(v,0,0,I.df+(st.db?I.getIndex()+1:""),j,J,ek,m);
E.dX.attr(aC,"middle");
f=en*eo/E.bbox.height;
e.d9(E,f);
u=E.bbox.width*0.5;
G-=u;
h-=u;
D+=u;
g=I.ep();
if(g&&!b){r=new d5(v,D,0,H,j,c9,ek,m);
e.d9(r,f);
D+=r.bbox.width;
if(g>1){k=new d5(v,D,0.4*E.bbox.height,g,j,c9,ek,m);
e.d9(k,f*w)}}if(z||I.dd){n="";
if(M.abs(z)!=1){n+=M.abs(z)}if(z){n+=(z>0?"+":"\u2013")}if(I.dd==1){n+=":"}else{if(I.dd==2){n+="."}else{if(I.dd==3){n+=".."}}}y=new d5(v,D,-0.5*E.bbox.height,n,j,c9,ek,m);
e.d9(y,f*w)}if(I.de){c=new d5(v,0,-0.5*E.bbox.height,M.round(I.de),j,c9,ek,m);
e.d9(c,f*w);
G-=c.bbox.width;
c.d6(G)}if(g&&b){if(g>1){k=new d5(v,0,0.4*E.bbox.height,g,j,c9,ek,m);
e.d9(k,f*w);
h=M.min(G,h-k.bbox.width);
k.d6(h)}r=new d5(v,0,0,H,j,c9,ek,m);
e.d9(r,f);
h-=r.bbox.width;
r.d6(h)}I.c8.transform("t"+x);
if(a){I.c8.push(v.rect(x.x+h-ek,x.y-E.bbox.height*0.5,D-h+2*ek,E.bbox.height).attr(ax,a).attr(az,c3))}}}else{this.dj()}dJ(this)}function eq(){if(!this.er&&!this.dP){var b=this,f,d,e,l,j,k={},c=b.cV(),m=new d8(c,b.dL(c)),a,h,g;
if(b.type==aq){a=b.dT();
h=new d5(c,a.x,a.y,b.df,dw,c9,ek,(b.du?dv:al));
h.dX.attr(aC,"middle");

g=en*eo/h.bbox.height;
m.d9(h,g)}else{a=b.es();
k[ax]=(b.du?dv:dw);
k[az]=c3;
for(f=0,d=b.et.length;
f<d;
f++){e=b.et[f];
l=e.dE.b0();
j=e.dD.b0();
cS(l,j,eo*0.4*(a.eu(l,j)?-1:1));
b.c8.push(c.path("M"+l+"L"+e.dE+"L"+e.dD+"L"+j).attr(k))}if(b.df){j=b.ev(3);
h=new d5(c,j.x+eo*0.3,j.y+eo*0.3,b.df,dw,c9,ek);
g=en*eo/h.bbox.height;
m.d9(h,g);
b.c8.push(m.d7())}}b.c8.click(function(i){b.ew(i);
return ex(i)}).mousedown(ex).mouseup(ey)}else{this.dj()}dJ(this)}function b8(a,d,c){var b=this;
b.x=bt(a);
b.y=bt(d);
b.z=bt(c);
b.cA=b3;
b.cn=b4;
b.cp=b5;
b.ci=b9;
b.ez=ch;
b.eA=ck;
b.eB=cl;
b.cq=ct;
b.eC=cs;
b.eD=cm;
b.eE=cr;
b.eF=cj;
b.bF=b_;
b.b6=cu;
b.cH=cv;
b.b7=cg;
b.cb=cw;
b.ce=cx;
b.eG=cy;
b.eH=cz;
b.cC=cB;
b.cf=cD;
b.eu=cE;
b.cc=cd;
b.eI=cG;
b.cF=cI;
b.eJ=ca;
b.cJ=cJ;
b.cL=cL;
b.b0=cO;
b.toString=cM;
b.c6=cN}function eK(){var a=this;
bC.apply(a);
a.moveBy=a.ci=eL;
a.rotateBy=a.eA=eM;
a.rotate3D=a.eB=eN;
a.rotateAround=a.eO=eP;
a.rotateAroundUnit=a.cq=eQ;
a.flip=a.eF=eR;
a.getCenter=a.dT=eS;
a.eT=eU;
a.dj=eV;
a.dr=eW}function eX(){var a=this;
bC.apply(a);
a.eb=eY;
a.dj=dj;
a.dL=dL;
a.dr=dr;
a.getInsertBefore=getInsertBefore}function eZ(b,a){if(a){bR(b,a)}b.dP=T;
b.dj();
dJ(b)}function e0(b){for(var c=0,a=b.length;
c<a;
c++){eZ(b[c])}b.length=0}function e1(d,c){var e=d.dp(),f=c.dp();
if(e<f){return -1}if(e>f){return 1}return 0}function e2(c){for(var d=[],b=0,a=c.length;
b<a;
b++){bX(d,e3(c[b]))}return d}function e3(a){if(!a||a.e4||a.dP){return}var b=a.cV();
if(b){bX(b.e4,a);
a.e4=T}return b}function dJ(a){if(!a||!a.e4){return}var b=a.cV();
if(b){bR(a,b.e4);
a.e4=al}}function e5(){dl(st.dn().dq(F))}function e6(d){var b,a,c;
if($.isArray(d)){for(b=0,a=d.length;
b<a;
b++){e6(d[b])}}else{while(d.e4.length){c=d.e4.pop();
if(c.dP){c.dj()}else{c.e4=al;
c.eT()}}if(c){e5();
d.renderfix()}}}function resetDirty(b){while(b.e4.length){var a=b.e4.pop();
a.e4=al}}function e7(){var g=this,f,h,e,d,c,b,a;
if(!g.c2||!g.c0){g.c2=new b8(an,an,an);
g.c0=new b8(-an,-an,-an);
f=g.e8(T);
if(!f.length){f=g.e8()}for(b=0,a=f.length;
b<a;
b++){h=f[b];
e=h.x;
d=h.y;
c=h.z;
if(e>g.c0.x){g.c0.x=e}if(e<g.c2.x){g.c2.x=e}if(d>g.c0.y){g.c0.y=d}if(d<g.c2.y){g.c2.y=d}if(c>g.c0.z){g.c0.z=c}if(c<g.c2.z){g.c2.z=c}}}}function eS(){if(!this.e9){var e=this,b=new b8(),d=e.e8(T),c,a;
if(!d.length){d=e.e8()}for(c=0,a=d.length;
c<a;
c++){b.ci(d[c])
}if(a>1){b.x/=a;
b.y/=a;
b.z/=a}e.e9=b}return this.e9}function eV(){if(this.c8){dj.apply(this)}for(var c=this.dq(T),b=0,a=c.length;
b<a;
b++){c[b].dj()}}function eW(){if(this.c8){dr.apply(this)}for(var c=this.dq(T),b=0,a=c.length;
b<a;
b++){c[b].dr()}}function eU(){var a=e2(this.dq(F));
e6(a)}function eL(c,b,f){for(var e=this.e8(),d=0,a=e.length;
d<a;
d++){e[d].ci(c,b,f)}this.e_(a8);
e2(this.dq(F))}function eM(f,b){var e,d,a,c,g=this;
if(!b){b=g.dT().b0();
c=T}e=g.e8();
for(d=0,a=e.length;
d<a;
d++){e[d].eA(f,b)}g.e_((c?a9:ba));
e2(g.dq(F))}function eN(e,d,b){var f,c,a,g=this;
if(!b){b=g.dT().b0()}f=g.e8();
for(c=0,a=f.length;
c<a;
c++){f[c].eB(e,d,b)}g.e_(ba);
e2(g.dq(F))}function eQ(f,c,b){for(var g=this,e=g.e8(),d=0,a=e.length;
d<a;
d++){e[d].cq(f,c,b)}g.e_(ba);
e2(g.dq(F))}function eP(e,b,d){var a,c;
if(a=b.cH(d)){c=d.cn(b);
c.ez(1/a);
this.cq(e,c,b)}}function fa(d,b){var e,c,a,f=this;
if(!b){b=f.dT().b0()}e=f.e8();
for(c=0,a=e.length;
c<a;
c++){e[c].ez(d,b)}f.e_(ba);
e2(f.dq(F))}function eR(c,b){if(!b){b=this.dT()}for(var e=this.e8(),d=0,a=e.length;
d<a;
d++){e[d].eF(c,b)}this.e_(a8);
e2(this.dq(F))}function fb(){return 0}function fc(){return an}function fd(){return this.cX.z}function fe(a){bR(a,this.ff)}function fg(){var b=this,a;
if(b.ec){for(a=b.ec.dh.length-1;
a>=0;
a--){b.fh(b.ec.dh[a])}for(a=b.ec.dS.length-1;
a>=0;
a--){b.fi(b.ec.dS[a])}}else{b.ec=new fj()}b.fk=new fl(aV);
b.fk.fm(b.ec);
b.fn=new b1();
b.fn.fo=T}function fp(){var a=this;
return !a.fk||!a.ec||(!a.fk.fq&&!a.ec.dS.length&&!a.ec.dh.length)}function fr(){for(var c=this.fk.dq(F),b=0,a=c.length;
b<a;
b++){c[b].eT();
aV.fs.push(c[b].c8)}}function ft(c,a){var b=this;
b.fq=new fu(c,a);
b.fq.dF=T;
b.fk.fv(b.fq);
return b.fq}function fw(a){var b=this.fn.bZ(a);
fx(b,a);
bM(b.dh,a.dh);
this.ec.fy(b);
return b}function fz(b){var c=b.dN,a=b;
if(!c){c=b;
a=b.fA}eZ(c,this.ec.dS);
delete c.dN;
if(a){delete a.e4;
e3(a);
delete a.dN}}function fB(a){var b=this.fn.bZ(a);
fx(b,a);
this.ec.fC(b);
return b}function fx(c,a){c.dF=T;
c.fA=a;
var b;
if((b=c.ec)&&a.ec){b.dF=T;
b.fA=a.ec;
if(b=b.fD){b.dF=T;
b.fA=a.ec.fD}}a.dN=c}function fE(b){var c=b.dN,a=b;
if(!c){c=b;
a=b.fA}eZ(c,this.ec.dh);
delete c.dN;
if(a){delete a.e4;
e3(a);
delete a.dN}}function fF(b){for(var d,c=0,a=b.dS.length;
c<a;
c++){d=this.fy(b.dS[c]);
d.dh=[]}for(c=0,a=b.dh.length;
c<a;
c++){this.fC(b.dh[c])}}function fG(c){for(var b=0,a=c.fH.length;
b<a;
b++){this.fm(c.fH[b])}}function fI(){var a=this;
a.fy=fw;
a.fi=fz;
a.fC=fB;
a.fh=fE;
a.fm=fF;
a.fJ=fG;

a.fK=ft;
a.eT=fr;
a.fL=fg;
a.fM=fp;
a.fL()}function eY(){return(this.fA?this.fA:this)}fN={H:{fO:1,m:1.00794,v:1,fP:T,fQ:1.007825,fR:{1:1.007825,2:2.0141018,3:3.0160493}},D:{fO:1,m:2.01402,v:1,fQ:2.014102},T:{fO:1,m:3.0160492,v:1,fQ:3.0160492},He:{fO:2,m:4.002602,fQ:4.002603,fR:{3:3.0160293,4:4.0026032}},Li:{fO:3,fS:T,m:6.941,fT:7,fQ:7.016005,fR:{5:5.0125378,6:6.0151223,7:7.016004}},Be:{fO:4,fS:T,m:9.012182,fT:6,fQ:9.012183,fR:{7:7.0169292,9:9.0121821,10:10.0135337}},B:{fO:5,m:10.811,v:3,fT:5,fQ:11.009305,fR:{10:10.012937,11:11.0093055}},C:{fO:6,m:12.011,v:4,fP:T,fQ:12,fR:{11:11.0114338,12:12,13:13.0033548,14:14.003242}},N:{fO:7,m:14.00674,v:5,fQ:14.003074,fR:{13:13.0057386,14:14.003074,15:15.0001089,17:17.0084497}},O:{fO:8,m:15.9994,v:6,fQ:15.994915,fR:{14:14.0085953,15:15.0030654,16:15.9949146,17:16.9991315,18:17.9991604,19:19.0035787,20:20.0040761,21:21.0086546}},F:{fO:9,m:18.9984032,v:7,fQ:18.998403,fR:{17:17.0020952,18:18.0009377,19:18.9984032,20:19.9999813,21:20.9999489}},Ne:{fO:10,m:20.1797,fQ:19.992439,fR:{19:19.0018798,20:19.9924402,21:20.9938467,22:21.9913855,23:22.9944673,24:23.9936151}},Na:{fO:11,fS:T,m:22.989768,fT:7,fQ:22.98977,fR:{21:20.9976551,22:21.9944368,23:22.9897697,24:23.9909633,25:24.9899544}},Mg:{fO:12,fS:T,m:24.305,fT:6,fQ:23.985045,fR:{22:21.9995741,23:22.9941248,24:23.9850419,25:24.985837,26:25.982593,27:26.9843407,28:27.9838767}},Al:{fO:13,fS:T,m:26.9811539,fT:5,fQ:26.981541,fR:{25:24.9904286,26:25.9868917,27:26.9815384,28:27.9819102,29:28.9804448}},Si:{fO:14,m:28.0855,v:4,fQ:27.976928,fR:{27:26.9867048,28:27.9769265,29:28.9764947,30:29.9737702,31:30.9753633,32:31.9741481}},P:{fO:15,m:30.973762,v:5,fQ:30.973763,fR:{29:28.9818014,30:29.9783138,31:30.9737615,32:31.9739072,33:32.9717253,34:33.9736364}},S:{fO:16,m:32.066,v:6,fQ:31.972072,fR:{31:30.9795544,32:31.9720707,33:32.9714585,34:33.9678668,35:34.9690321,36:35.9670809,37:36.9711257,38:37.9711634,39:38.9751353}},Cl:{fO:17,m:35.4527,v:7,fQ:34.968853,fR:{33:32.9774518,34:33.973762,35:34.9688527,36:35.9683069,37:36.9659026,38:37.9680106,39:38.9680077,40:39.9704156,41:40.9706502}},Ar:{fO:18,m:39.948,fQ:39.962383,fR:{36:35.9675463,37:36.9667759,38:37.9627322,39:38.9643134,40:39.9623831,41:40.9645008,42:41.9630464,43:42.9656707,44:43.9653653,45:44.968095}},K:{fO:19,fS:T,m:39.0983,fT:17,fQ:38.963708,fR:{38:37.9690801,39:38.9637069,40:39.9639987,41:40.961826,42:41.9624031,43:42.9607157,44:43.9615561,45:44.9606997,46:45.9619762}},Ca:{fO:20,fS:T,m:40.078,fT:16,fQ:39.962591,fR:{40:39.9625912,41:40.9622783,42:41.9586183,43:42.9587668,44:43.9554811,45:44.9561859,46:45.9536928,47:46.9545465,48:47.9525335,49:48.9556733}},Sc:{fO:21,fS:T,m:44.95591,fT:15,fQ:44.955914,fR:{43:42.961151,44:43.959403,45:44.9559102,46:45.9551703,47:46.952408,48:47.952235,49:48.9500241}},Ti:{fO:22,fS:T,m:47.867,fT:14,fQ:47.947947,fR:{44:43.9596902,45:44.9581243,46:45.9526295,47:46.9517638,48:47.9479471,49:48.9478708,50:49.9447921,51:50.946616,52:51.9468982}},V:{fO:23,fS:T,m:50.9415,fT:13,fQ:50.943963,fR:{47:46.9549069,48:47.9522545,49:48.9485169,50:49.9471628,51:50.9439637,52:51.9447797,53:52.9443425}},Cr:{fO:24,fS:T,m:51.9961,fT:12,fQ:51.94051,fR:{48:47.9540359,49:48.9513411,50:49.9460496,51:50.9447718,52:51.9405119,53:52.9406538,54:53.9388849,55:54.9408442,56:55.9406452}},Mn:{fO:25,fS:T,m:54.93805,fT:11,fQ:54.938046,fR:{51:50.9482155,52:51.9455701,53:52.9412947,54:53.9403632,55:54.9380496,56:55.9389094,57:56.9382875}},Fe:{fO:26,fS:T,m:55.845,fT:10,fQ:55.934939,fR:{52:51.9481165,53:52.9453123,54:53.9396148,55:54.938298,56:55.9349421,57:56.9353987,58:57.9332805,59:58.9348805,60:59.9340769,61:60.9367495}},Co:{fO:27,fS:T,m:58.9332,fT:9,fQ:58.933198,fR:{55:54.9420031,56:55.9398439,57:56.9362962,58:57.9357576,59:58.9332002,60:59.9338222,61:60.9324794,62:61.9340542}},Ni:{fO:28,fS:T,m:58.6934,fT:10,fQ:57.935347,fR:{56:55.9421363,57:56.9398005,58:57.9353479,59:58.9343516,60:59.9307906,61:60.9310604,62:61.9283488,63:62.9296729,64:63.9279696,65:64.930088,66:65.9291152}},Cu:{fO:29,fS:T,m:63.546,fT:7,fQ:62.929599},Zn:{fO:30,fS:T,m:65.39,fT:6,fQ:63.929145},Ga:{fO:31,m:69.723,fT:5,fQ:68.925581},Ge:{fO:32,m:72.61,fQ:73.921179},As:{fO:33,m:74.92159,fQ:74.921596},Se:{fO:34,m:78.96,fQ:79.916521},Br:{fO:35,m:79.904,v:7,fQ:78.918336},Kr:{fO:36,m:83.8,fQ:83.911506},Rb:{fO:37,fS:T,m:85.4678,fT:17,fQ:84.9118},Sr:{fO:38,fS:T,m:87.62,fT:16,fQ:87.905625},Y:{fO:39,fS:T,m:88.90585,fT:15,fQ:88.905856},Zr:{fO:40,fS:T,m:91.224,fT:14,fQ:89.904708},Nb:{fO:41,fS:T,m:92.90638,fT:13,fQ:92.906378},Mo:{fO:42,fS:T,m:95.94,fT:12,fQ:97.905405},Tc:{fO:43,fS:T,m:97.9072,fT:11},Ru:{fO:44,fS:T,m:101.07,fT:10,fQ:101.904348},Rh:{fO:45,fS:T,m:102.9055,fT:9,fQ:102.905503},Pd:{fO:46,fS:T,m:106.42,fT:8,fQ:105.903475},Ag:{fO:47,fS:T,m:107.8682,fT:7,fQ:106.905095},Cd:{fO:48,fS:T,m:112.411,fT:6,fQ:113.903361},In:{fO:49,fS:T,m:114.818,fT:5,fQ:114.903875},Sn:{fO:50,fS:T,m:118.71,fQ:119.902199},Sb:{fO:51,m:121.76,fQ:120.903824},Te:{fO:52,m:127.6,fQ:129.906229},I:{fO:53,m:126.90447,v:7,fQ:126.904477},Xe:{fO:54,m:131.29,fQ:131.904148},Cs:{fO:55,fS:T,m:132.90543,fT:17,fQ:132.905433},Ba:{fO:56,fS:T,m:137.327,fT:16,fQ:137.905236},La:{fO:57,fS:T,m:138.9055,fT:15,fQ:138.906355},Ce:{fO:58,fS:T,m:140.115,fT:15,fQ:139.905442},Pr:{fO:59,fS:T,m:140.90765,fT:15,fQ:140.907657},Nd:{fO:60,fS:T,m:144.24,fT:15,fQ:141.907731},Pm:{fO:61,fS:T,m:144.9127,fT:15},Sm:{fO:62,fS:T,m:150.36,fT:15,fQ:151.919741},Eu:{fO:63,fS:T,m:151.965,fT:15,fQ:152.921243},Gd:{fO:64,fS:T,m:157.25,fT:15,fQ:157.924111},Tb:{fO:65,fS:T,m:158.92534,fT:15,fQ:158.92535},Dy:{fO:66,fS:T,m:162.5,fT:15,fQ:163.929183},Ho:{fO:67,fS:T,m:164.93032,fT:15,fQ:164.930332},Er:{fO:68,fS:T,m:167.26,fT:15,fQ:165.930305},Tm:{fO:69,fS:T,m:168.9342,fT:15,fQ:168.934225},Yb:{fO:70,fS:T,m:173.04,fT:15,fQ:173.938873},Lu:{fO:71,fS:T,m:174.967,fT:15,fQ:174.940785},Hf:{fO:72,fS:T,m:178.49,fT:14,fQ:179.946561},Ta:{fO:73,fS:T,m:180.9479,fT:13,fQ:180.948014},W:{fO:74,fS:T,m:183.84,fT:12,fQ:183.950953},Re:{fO:75,fS:T,m:186.207,fT:11,fQ:186.955765},Os:{fO:76,fS:T,m:190.23,fT:10,fQ:191.961487},Ir:{fO:77,fS:T,m:192.217,fT:9,fQ:192.962942},Pt:{fO:78,fS:T,m:195.08,fT:8,fQ:194.964785},Au:{fO:79,fS:T,m:196.96654,fT:7,fQ:196.96656},Hg:{fO:80,fS:T,m:200.59,fT:6,fQ:201.970632},Tl:{fO:81,fS:T,m:204.3833,fT:5,fQ:204.97441},Pb:{fO:82,fS:T,m:207.2,fT:4,fQ:207.976641},Bi:{fO:83,fS:T,m:208.98037,fT:3,fQ:208.980388},Po:{fO:84,fS:T,m:208.9824},At:{fO:85,m:209.9871},Rn:{fO:86,m:222.0176},Fr:{fO:87,fS:T,m:223.0197},Ra:{fO:88,fS:T,m:226.0254},Ac:{fO:89,fS:T,m:227.0278},Th:{fO:90,fS:T,m:232.0381,fQ:232.038054},Pa:{fO:91,fS:T,m:231.03588},U:{fO:92,fS:T,m:238.0289,fQ:238.050786},Np:{fO:93,fS:T,m:237.0482},Pu:{fO:94,fS:T,m:244.0642},Am:{fO:95,fS:T,m:243.0614},Cm:{fO:96,fS:T,m:247.0703},Bk:{fO:97,fS:T,m:247.0703},Cf:{fO:98,fS:T,m:251.0796},Es:{fO:99,fS:T,m:252.083},Fm:{fO:100,fS:T,m:257.0915},Md:{fO:101,fS:T,m:256.094},No:{fO:102,fS:T,m:259.1009},Lr:{fO:103,fS:T,m:262.11},Rf:{fO:104,fS:T,m:261.11},Db:{fO:105,fS:T,m:268},Sg:{fO:106,fS:T,m:271},Bh:{fO:107,fS:T,m:270},Hs:{fO:108,fS:T,m:277},Mt:{fO:109,fS:T,m:276},Ds:{fO:110,fS:T,m:281},Rg:{fO:111,fS:T,m:272},Cn:{fO:112,fS:T},"%":{fU:T},M:{fU:T},X:{fU:T},Ln:{fU:T}};

function fV(){if(!this.ec){return -1}return bL(this.ec.dS,this)}function fW(a){return bn(round(a/eo,4,3),10)}function fX(){var c=0,e=this,b=bn("0",3),d=(e.dg!=al?e.dg+1:0),a=e.fY();
if(e.de){c=M.round(e.de-e.fZ.m);
if(c<-3||c>4){c=0}}if(e.fZ&&a==e.fZ.v){a=0}else{if(a==0){a=15}}return"\n"+fW(e.cX.x)+fW(-e.cX.y)+fW(e.cX.z)+S+bp(e.df,3,S)+bn(c,2)+bn(M.round(bt(e.f0)),3)+b+bn(d,3)+b+bn(a,3)+bm(b,6)}function f1(a){if(a){a=a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}this.df=a;
this.f2=al;
this.fZ=fN[a]}function f3(b){if(!b){return}var e=0,d,a,g,f;
for(d=0,a=b.length;
d<a;
d++){g=b.charAt(d);
if(g=="+"){e++}else{if(g=="-"){e--}}}f=bv(b);
if(f===""){return e}return f*e}function f4(b){if(b==H){return 1}if(b){if(b.charAt(0)==H){var a=bc(b.substr(1));
if(!isNaN(a)){return a}}}return al}function f5(p,r){var w=this,e,m,b,v,n,f,u,d,g,j,q,o,h=0,a=0,t,k,l=w.eg;
if(l&&l.type==ar){return}if(!r&&(e=f6(p))){if(l){return}m=w.ec;
b=m.fD;
v=w;
n=1;
u=e.f7();
d=u.ec;
if(w.dh.length>1){if(u.dh.length>1){v=new f8(f9(w,1));
if(w.dF){v=f_.fy(v)}f=new ga(w,v,1,0);
if(w.dF){f=f_.fC(f)}else{m.fy(v);
m.fC(f)}}else{n=2;
f=u.dh[0]}}else{f=w.dh[0]}d.ci(v.cX.cn(u.cX));
if(f){g=em(f.cW,f.cY)+((f.cY.bF(v)||f.cY.bF(v.fA))?ae:0)-u.gb(1);
d.eA(g*af,v.cX)}if(w.dF){d.ed=al;
f_.fm(d);
u=u.dN}else{b.gc(m,d);
if(w.du){st.gd().fm(d)}}if(n==2){m.ge(u,v)}else{m.ge(v,u)}}else{w.dd=0;
j="";
for(q=0,o=p.length;
q<o;
q++){t=p.charAt(q);
if(t=="."){h++}else{if(t==":"){a++}else{j+=t}}}if(a==1){w.dd=1}else{if(h>0){w.dd=h+1}}if(k=a6.exec(j)){w.de=bs(bc(k[1]),0);
w.gf(k[2]);
w.dg=f4(k[3]);
w.f0=f3(k[4])}w.e_(bb)}}function gg(b){var c,f,d,a,e;
if(c=this.fZ){if(a=this.de){if((f=c.fR)&&(f=f[a])){return f}e=c.fO;
f=a-e;
d=15.67*a-17.23*M.pow(a,2/3)-0.714*e*(e-1)*M.pow(a,-1/3)-23.2875*M.pow(f-e,2)/a;
if(!(a%2)){d+=11.2*M.pow(a,-0.5)*(e%2?-1:1)}return(939.553*f+938.259*e-d)/931.494061}else{return(b?c.fQ:c.m)}}}function gh(b,a){this.gi=a;
this.cC=em(b,a)}function gj(d,c){if(d.cC<c.cC){return -1}if(d.cC>c.cC){return 1}return 0}function gk(l,o){var k=(o?o.concat():[]),m,f=this.eb(),a=f.dh.length,p,q,c,e,b,d,n,h=0,g;
for(c=0;
c<a;
c++){p=f.dh[c];
q=(p.cW.bF(f)?p.cY:p.cW);
k.push(new gh(f,q))}a=k.length;
k.sort(gj);
if(l){m=f.cX.cC(l);
for(c=0;
c<a;
c++){b=(c+1)%a;
e=k[c].cC;
d=(k[b].cC+aj)%aj;
if(b==0&&(m<d||e<m)){m=0.5*(e+d+aj);
break}else{if(e<m&&m<d){m=0.5*(e+d);
break}}}}else{for(c=0;
c<a;
c++){b=(c+1)%a;
n=(720+k[b].cC-k[c].cC)%aj;
if(n>h){h=n;
g=c}}m=k[g].cC+0.5*h}return m}function gl(){var c=this.eb(),e,a,b,d=c.cX,f=d.z;
for(b=c.dh.length-1;
b>=0;
b--){e=c.dh[b];
a=(e.cW.bF(c)?e.cY:e.cW);
if(M.abs(a.cX.z-f)>0.05*d.cH(a.cX)){return F}}return T}function gm(b){var e=this,d=e.dh.length,a,c;
if(b){if(d==2){for(c=0;
c<d;
c++){a=e.dh[c].gn(e);
if(!a.bF(b)){return a}}}}else{if(d==1){return e.dh[0].gn(e)}}return al}function go(g,e){var f,d=this.eb(),c=d.dh.length,h,i,b,a;
if(!c){if(e){f=d.cX.cC(e)}else{f=-30}}else{if(c==1){h=d.dh[0];
i=d.gp();
if(g+h.di==4){f=em(d,i)+ae}else{if(e){f=em(d,i);
f+=M.round((d.cX.cC(e)-f+720)/60)*60}else{b=i.gp(d);
if(b){a=(em(i,d,b)+ae)%aj}f=em(d,i)+ad*(a<ae?1:-1)
}}}else{f=d.gq(e)}}return f}function gr(){for(var b=0,c=0,a=this.dh.length;
c<a;
c++){b+=this.dh[c].di}return b}function gs(b){if(b){var c=this,a=c.ea();
c.f0=a+b;
c.e_(bb);
e3(c)}}function gt(){var b=this,a=$.inArray(b.dd,av);
a++;
a%=av.length;
b.dd=av[a];
b.e_(bb);
e3(b)}function gu(c,a){var b=this;
if(!a){a=[]}else{if(bK(a,b)){return}}a.push(b);
b.z=al;
if(c>ba){b.gv=al;
b.gw=al}a.pop()}function gx(){if(this.f2==al){if(!this.fZ){return}return this.fZ.v}else{return this.f2}}function gy(a){if(a==al){return an}var d=this,c=d.gr(),b;
if(d.dd==1||d.dd==3){c+=2}else{if(d.dd==2){c++}}b=bt(d.f0);
if(a-b<4){return a-c-M.abs(b)}else{return 8-a-c+b}}function gz(){var d=this,b=d.fY(),c,a;
if(b==al){d.gw=0;
d.gv=0}else{a=d.dg;
if(a==al){a=d.gv=d.gA(b)}if(a<0){d.gw=-a;
a=d.gv=0;
c=d.fZ.fO;
if(c==5){d.gw*=-1}else{if(c>10){d.gw%=2}}}else{d.gw=0}if(d.gv>4||d.gv>b+1){d.gv=0}}}function gB(){var a=this;
if(a.dg!=al){return a.dg}if(a.gv==al){a.gC()}return a.gv}function gD(){var a=this;
if(a.f0!=al){return a.f0}if(a.gw==al){a.gC()}return a.gw}function gE(b){if(this.fA){return this.fA.b0(b)}if(!b){b=new b1()}var c=this,a=new f8(c.cX.b0());
bG(b,c,a);
a.gf(c.df);
a.dg=c.dg;
a.dO=c.dO;
a.f0=c.f0;
a.dd=c.dd;
a.de=c.de;
a.f2=c.f2;
a.eg=b.bZ(c.eg);
a.du=c.du;
a.dF=c.dF;
return a}function gF(){var b=this,a=0;
if(b.df!=C){a+=2}if(b.de){a+=3}if(b.dd){a+=3}if(b.f0){a+=2}return a}function gG(){if(st.gH||st.gI()){return}var c=this,b,a,d;
f_.fL();
switch(gJ){case aG:b=f_.fy(c);
b.f5(gK());
f_.eT();
break;
case aH:case aI:if(!gL&&!gM){d=f9(c,gN);
b=f_.fy(c);
a=f_.fy(new f8(d));
f_.fC(new ga(b,a,gN,gO));
a.f5(gK());
f_.eT()}break;
case aP:if(gL){c.ec.fi(c)}break}}function gP(){f_.fL()}function cV(){if(this.dZ){return this.dZ}if(this.ec){return this.ec.cV()}}function gQ(d){if(d){for(var e,b=this.ec,c=0,a=this.dh.length;
c<a;
c++){e=this.dh[c];
if((e.cW.bF(d)||e.cY.bF(d))&&(!b||bK(b.dh,e))){return e}}}}function gR(){return this.cX}function gS(a){if(!a||!this.dO){return[this.cX]}return[]}function gT(d,c){if(this.bF(d)){return}if(c){if(bK(c.dS,this)){return c}}else{c=new gU(T)}c.fy(this);
for(var b=0,a=this.dh.length;
b<a;
b++){this.dh[b].gV(d,c)}return c}function gW(){if(!this.gX){this.gX=[];
var b=this.ec.dR(),c,a;
for(c=0,a=b.length;
c<a;
c++){if(bK(b[c].dS,this)){this.gX.push(b[c])}}}return this.gX}function gY(){if(this.z==al){for(var d=this,b=d.cX.z,c=0,a=d.dh.length;
c<a;
c++){b=M.max(d.dh[c].dp(),b)}d.z=b+0.000001}return this.z}function f8(b){var a=this;
eX.apply(a);
a.df=C;
a.dh=[];
a.dO=F;
a.dd=0;
a.de=0;
a.cX=b;
a.du=F;
a.dT=gR;
a.e8=gS;
a.gZ=gQ;
a.dR=gW;
a.f5=f5;
a.gf=f1;
a.getIndex=fV;
a.gq=gk;
a.g0=gl;
a.gp=gm;

a.gb=go;
a.fY=gx;
a.gA=gy;
a.gr=gr;
a.g1=gs;
a.g2=gt;
a.e_=gu;
a.gC=gz;
a.ep=gB;
a.ea=gD;
a.g3=gg;
a.g4=gF;
a.gV=gT;
a.getMolecule=g5;
a.g6=fX;
a.eT=d_;
a.dp=gY;
a.b0=gE;
a.cV=cV;
a.g7=gG;
a.g8=gP}function g9(d){if(!d){d=new b1()}var e=this,b=new e.constructor(),c,a;
bG(d,e,b);
for(c=0,a=e.dh.length;
c<a;
c++){e.dh[c].b0(d)}for(c=0,a=e.g_.length;
c<a;
c++){e.g_[c].b0(d)}for(c=0,a=e.dS.length;
c<a;
c++){b.fy(d.bZ(e.dS[c]),T)}for(c=0,a=e.ha.length;
c<a;
c++){b.hb(d.bZ(e.ha[c]),T)}for(c=0,a=e.dh.length;
c<a;
c++){b.fC(d.bZ(e.dh[c]),T)}for(c=0,a=e.g_.length;
c<a;
c++){b.hc(d.bZ(e.g_[c]),T)}b.df=e.df;
b.hd=e.hd;
if(e.et){for(c=0,a=e.et.length;
c<a;
c++){b.et.push(e.et[c].b0())}}b.he=e.he;
b.er=e.er;
return b}function hf(d){for(var c=this,b=0,a=c.dS.length;
b<a;
b++){c.dS[b].dO=d}for(b=0,a=c.dh.length;
b<a;
b++){c.dh[b].dO=d}for(b=0,a=c.g_.length;
b<a;
b++){c.g_[b].dO=al}c.er=!d;
e2(c.dS);
e2(c.dh);
e2(c.g_)}function hg(){for(var d=this,c,b=0,a=d.dS.length;
b<a;
b++){d.dS[b].dO=T}for(b=0,a=d.ha.length;
b<a;
b++){d.ha[b].dO=al}for(b=0,a=d.dh.length;
b<a;
b++){c=d.dh[b];
c.dO=(c.cW.dO||c.cY.dO)&&!d.hh(c)}d.er=F;
e2(d.dS);
e2(d.dh);
e2(d.g_)}function hi(){for(var c=this,b=0,a=c.dS.length;
b<a;
b++){c.dS[b].dO=al}for(b=0,a=c.dh.length;
b<a;
b++){c.dh[b].dO=al}c.er=al;
e2(c.dS);
e2(c.dh);
e2(c.g_)}function hj(b){var a=bX(this.dS,b);
if(a){b.eg=this}return a}function hk(a){if(this.type!=as){return bX(this.ha,a)}return F}function hl(a){return bK(this.g_,a)}function hm(b){if(bK(this.g_,b)){return F}var a=bX(this.dh,b);
if(a){b.eg=this}return a}function hn(c,b,a,d){if(bK(a,c[b].cW)){d[2*b]=c[b].cW;
d[2*b+1]=c[b].cY}else{d[2*b]=c[b].cY;
d[2*b+1]=c[b].cW}}function createGroup(){var d=st.gd(),b,c,a;
if(!d.ho){return}a=d.dS[0].ec;
hp(T);
if(d.g_.length<=1){c=prompt(s("supaQ"),"")}else{c=prompt(s("multQ"),"")}hp(F);
if(c==null){return}hq();
b=a.hr(c,d.dS,d.dh,d.g_);
d.hs(b);
b.eT();
ht(aV);
return b}function hu(c){for(var e,f,g,b,d=0,a=this.et.length;
d<a;
d++){g=this.et[d].dE;
b=g.x+c*g.y;
if(e==al||b>f){e=g;
f=b}g=this.et[d].dD;
b=g.x+c*g.y;
if(b>f){e=g;
f=b}}return e}function hv(a){var d=a.dT(),h=d.b0(),g=d.b0(),f=a.cW.cX,e=a.cY.cX,c=hw*(e.x-f.x),b=hw*(e.y-f.y);
h.ci(b,-c);
g.ci(-b,c);
this.et.push(new hx(h,g))}function hy(){this.et=[];
for(var b=0,a=this.g_.length;
b<a;
b++){this.hz(this.g_[b])}}function hA(b){if($.isArray(b)){for(var c=0,a=b.length;
c<a;
c++){this.hc(b[c])}}else{if(this.type!=ar){if(bK(this.dS,b.cW)){this.hb(b.cW)}else{if(bK(this.dS,b.cY)){this.hb(b.cY)}}}bR(b,this.dh);
bX(this.g_,b)
}}function hB(d){var e=this,b=[],c,a;
if(d&&!e.er&&e.ha.length){for(c=0,a=e.ha.length;
c<a;
c++){b.push(e.ha[c].cX)}}else{for(c=0,a=e.dS.length;
c<a;
c++){b.push(e.dS[c].cX)}}if(e.et){for(c=0,a=e.et.length;
c<a;
c++){b.push(e.et[c].dE,e.et[c].dD)}}bN(b,e.e9);
return b}function hC(){var a=this;
if(!a.c2||!a.c0){e7.apply(a);
a.c2.x-=hD;
a.c2.y-=hD;
a.c0.x+=hD;
a.c0.y+=hD}}function hE(){if(st.gI()){return}switch(gJ){case aP:if(gL){this.ec.hF(this);
break}default:var a=this,d,c,b=a.cV(),f=[],j,h,g=0,e=(d4?1:1/hG);
a.dQ();
a.hH=0;
hI(b.hJ);
j=b.set();
j.push(b.text(2,2,"Ph").attr(aw,2).attr("fill-opacity",0.8),b.path("M2,2L4,2L5,3.5L4,5L2,5L1,3.5Z M2.5,2.5L4,2.5 M4.5,3.5L3.5,4.75 M2.5,4.75L1.5,3.5").attr(ax,"#f00").attr(az,c3).attr(ay,0.85),b.path("M1,0L2,2").attr(ax,hK).attr(az,c3));
f.push(j.transform("t"+(a.c0.x)+","+(a.c2.y+g)).data(ao,a).mousedown(ex).mouseup(ey).click(hL));
h=j.getBBox();
a.hH+=h.width*1.5*e;
g+=h.height*1.3*e;
if(a.type==aq){f.push(b.path(a.er?"M0,4H4L2,2.5Z M0,0H4L2,1.5Z":"M0,1.5H4L2,0Z M0,2.5H4L2,4Z").transform("t"+(a.c0.x+e)+","+(a.c2.y+g)).attr(ax,hK).attr(az,c3).attr(aD,"silver").data(ao,a).mousedown(ex).mouseup(ey).click(hM))}b.hJ.push(b.rect(a.c2.x,a.c2.y,a.c0.x+a.hH-a.c2.x,a.c0.y-a.c2.y).attr(hN).attr(ay,0.85).data(ao,a).mouseout(hO));
for(d=0,c=f.length;
d<c;
d++){b.hJ.push(f[d])}b.hJ.insertAfter(b.hP)}}function hM(c,a,d,b){if(!b){b=this.data(ao)}hq();
b.hQ(b.er);
b.ec.e_(ba);
hR=al;
hS(aV);
hT(T);
b.eT();
ht(aV);
return ex(c)}function hU(h){var c=this,g=c.ec,b=bu(c.df),f,i,l,j,d=st.gd(),a,k;
hp(T);
if(c.type==aq){b=prompt(s("supaQ"),b)}else{b=prompt(s("multQ"),b)}hp(F);
if(b==null){return}k=bc(b);
hq();
if(c.type==ar||(c.type==as&&k<hV&&k>1)){if(c.type==ar){f=c.ha.concat()}else{f=c.dS.concat()}i=c.dh.concat();
l=c.g_.concat();
if(j=c.du){d.hF(c)}c.hW(l,i);
a=g.hr(b,f,i,l);
if(j){d.hs(a)}a.eT()}else{c.df=b;
c.hd=k;
c.eT()}ht(aV)}function hL(c,a,d,b){if(!b){b=this.data(ao)}hq();
b.hW();
ht(aV);
return ex(c)}function hO(){}function hX(j,b,g){var d,c,e=j[j.length-1],h,f,a;
for(d=0,c=e.dh.length;
d<c;
d++){h=e.dh[d];
f=(h.cW.bF(e)?h.cY:h.cW);
if(bK(j,f)){continue}if(h.bF(b)){return h}if(bK(g,f)){j.push(f);
a=hX(j,b,g);
if(a){return a}j.pop()}}}function hY(p,m){var c=this,k=c.ec,o,n,h,f,e,b,g,a,d=st.gd(),l;
if(c.type==ar){o=c.ha;
n=bV(c.dS,o);
if(!p){p=c.g_.concat()}if((b=p.length)==2){for(e=0;
e<b;
e++){for(h=0,f=o.length;
h<f;
h++){a=o[h];
g=hX([a],p[e],n);
if(!g){continue}l=g.du;
k.fh(g,T);
if(bK(n,g.cW)){g.cW=a}else{g.cY=a}a.dh.push(g);
g.eg=al;
k.fC(g);
if(m){m.push(g)}if(l){d.fC(g)}}}for(h=0,f=n.length;
h<f;
h++){k.fi(n[h],T)}}}if(c.bF(hR)){hR=al;
hS(aV)}c.dj();
while(c.dS.length){g=c.dS.pop();
g.eg=al;
g.dO=al;
e3(g)}while(c.dh.length){g=c.dh.pop();
g.eg=al;
g.dO=al;
e3(g)}c.ha=[];
eZ(c,c.hZ.h0);
eZ(c,k.h0);
d.hF(c);
if(m){bO(m,k.dh);

bP(m,p)}}function h1(){if(!this.ec){return -1}return bL(this.ec.h0,this)}function h2(b){for(var a=b.length-1;
a>=0;
a--){b[a]=parseFloat(b[a])}this.et.push(new hx(new b8(b[0],-b[1]),new b8(b[2],-b[3])))}function h3(){if(!this.h4){var b=new b8(),d,c,a=this.et.length;
if(a>1){for(c=0;
c<a;
c++){d=this.et[c];
b.ci(d.dE);
b.ci(d.dD)}b.x/=a*2;
b.y/=a*2}this.h4=b}return this.h4}function h5(){return new hx(this.dE.b0(),this.dD.b0())}function hx(b,a){this.dE=b;
this.dD=a;
this.b0=h5}function h6(e,b){if(!b){b=[]}else{if(bK(b,this)){return}}b.push(this);
var d=this,c,a;
if(e==ba){d.e9=al;
d.h4=al}if(e>a8&&e<bb){d.c2=al;
d.c0=al;
for(c=0,a=d.g_.length;
c<a;
c++){d.g_[c].e_(ba,b)}d.h7()}if(e!=a8){e=ba}for(c=0,a=d.dS.length;
c<a;
c++){d.dS[c].e_(e,b)}for(c=0,a=d.dh.length;
c<a;
c++){d.dh[c].e_(e,b)}b.pop()}function h8(){var a=this;
eX.apply(a);
a.dS=[];
a.ha=[];
a.dh=[];
a.g_=[];
a.hH=0;
a.getIndex=h1;
a.e_=h6;
a.hW=hY;
a.fy=hj;
a.hb=hk;
a.hh=hl;
a.fC=hm;
a.hc=hA;
a.dT=eS;
a.dQ=hC;
a.e8=hB;
a.b0=g9;
a.cV=cV;
a.g7=hE;
a.g8=hO;
a.ew=hU;
a.eT=eq;
a.dp=fc}function h9(){h8.apply(this);
this.type=aq;
this.h7=h_;
this.hQ=hf}function ia(){var a=this;
h8.apply(a);
a.type=ar;
a.et=[];
a.ev=hu;
a.ib=h2;
a.hz=hv;
a.h7=hy;
a.es=h3;
a.hQ=hg}function ic(){ia.apply(this);
this.type=as;
this.hQ=hi}function ie(e){if(this.fA){return this.fA.b0(e)}if(!e){e=new b1()}var f=this,d,c,a,b;
if(e.fo){if(d=f.cW.dN){c=d}if(d=f.cY.dN){a=d}}if(!c){c=e.bZ(f.cW)}if(!a){a=e.bZ(f.cY)}b=new ga(c,a,f.di,f.dV);
bG(e,f,b);
b.dO=f.dO;
b.eg=e.bZ(f.eg);
b.du=f.du;
return b}function ig(){if(!this.e9){this.e9=co(this.cW.cX,this.cY.cX)}return this.e9}function ih(f,c){if(!c){c=[]}else{if(bK(c,this)){return}}c.push(this);
if(f==ba){this.e9=al}if(f<bb){var b=this.ec,d,a,e;
if(b){for(d=0,a=b.h0.length;
d<a;
d++){e=b.h0[d];
if(bK(e.g_,this)){e.e_(ba,c)}}}}c.pop()}function ii(){var b=this,a=b.di;
a=(bf(a7,a)||a);
if(!b.cW||!b.cY||b.cW.bF(b.cY)){return""}return"\n"+bn(b.cW.getIndex()+1,3)+bn(b.cY.getIndex()+1,3)+bn(a,3)+bn(b.dV,3)+bm(bn("0",3),3)}function ij(){if(!this.gX){var d=this,c,b,a;
if(!d.cW.hZ){d.ec.ik(T)}c=d.cW.hZ.dR();
d.gX=[];
for(b=0,a=c.length;
b<a;
b++){if(bK(c[b].dh,d)){d.gX.push(c[b])}}}return this.gX}function il(){var a=0;
if(this.dV){a+=4}switch(this.di){case 2:a+=2;
break;
case 3:a--;
break}return a}function im(b){for(var d,c=0,a=b.dh.length;
c<a;
c++){d=b.dh[c];
if(d.di==1){d.di=2}else{d.di=1}e3(d)}}function io(){if(this.di>2){return}var k=this.dR(),l,g=[],c,h,f,e,d,b,a;
for(f=0,e=k.length;
f<e;
f++){c=k[f];
h=c.dh.length;
if(h%4==2){l=F;
for(d=1;
d<h;
d++){a=c.dh[d].di;

b=c.dh[d-1].di;
if(b+a!=3||b<1||b>2||a<1||a>2){l=T;
break}}if(!l){g.push(c)}}}if(!g.length){return}c=g[0];
h=c.dh.length;
for(f=1,e=g.length;
f<e;
f++){if(g[f].dh.length<h){c=g[f];
h=c.dh.length}}return c}function ip(e,d){if(d){var a=3*ek,c=e.cH(d.cW.cX,T),b=e.cH(d.cY.cX,T);
if(c<a&&c<b){return d.cW}else{if(b<a){return d.cY}}}return al}function iq(b){var c=this,a;
if(c.eg&&c.eg.type==ar){return}if(gO!=0&&gO==c.dV){a=c.cW;
c.cW=c.cY;
c.cY=a}else{if(gO!=0||gN!=1){c.di=gN;
c.dV=gO}else{if(c.dV!=0){c.dV=0}else{c.di%=3;
c.di++}}}c.cW.e_(bb);
c.cY.e_(bb);
if(!b){e3(c);
e3(c.cW);
e3(c.cY)}}function ir(){if(!this.ec){return -1}return bL(this.ec.dh,this)}function it(a){if(!a||!this.dO){return[this.cW.cX,this.cY.cX]}return[]}function iu(b,a){if(a){if(bK(a.dh,this)){return a}}else{a=new gU(T)}a.fC(this);
this.cW.gV(b,a);
this.cY.gV(b,a);
return a}function iv(){var b=this,a=b.ec;
if(b.cW.fA){a=b.cW.fA.ec}else{if(b.fA){a=b.fA.ec}}return a}function iw(){return bd(this.cW.cX.z,this.cY.cX.z)}function ix(a){var b=this;
return(b.cW.bF(a)?b.cY:b.cW)}function iy(){return this.cY.cX.cn(this.cW.cX)}function iz(a){return this.cW.bF(a)||this.cY.bF(a)}function ga(c,b,a,d){var e=this;
eX.apply(e);
e.cW=c;
e.cY=b;
e.di=a;
e.dV=d;
e.du=F;
e.getIndex=ir;
e.e_=ih;
e.iA=iq;
e.dT=ig;
e.e8=it;
e.dR=ij;
e.iB=io;
e.iC=im;
e.iD=iz;
e.g4=il;
e.gV=iu;
e.getMolecule=g5;
e.g6=ii;
e.eT=dM;
e.dp=iw;
e.b0=ie;
e.gn=ix;
e.iE=iy;
e.cV=cV;
e.eb=eY;
e.cZ=iv;
e.dU=cU}function iF(g){g.sort(iG);
for(var b=[],d,c=[],e,f=0,a=g.length;
f<a;
f++){e=g[f];
d=e.dS;
if(!iH(d)&&!bT(c,d)){b.push(e);
bW(c,d)}}return b}function iH(b){for(var d,c=0,a=b.length;
c<a;
c++){d=b[c];
if(d.fZ&&d.fZ.fS){return T}}return F}function iG(e,c){var f=(e.dS?e.dS.length:0),d=(c.dS?c.dS.length:0);
if(f<d){return -1}if(f>d){return 1}return 0}function iI(e,c){var d=e.dR().length,f=c.dR().length,g,h;
if(d<f){return 1}if(d>f){return -1}g=e.dh.length,h=c.dh.length;
if(g<h){return 1}if(g>h){return -1}return 0}function iJ(c){var b=[],d,a,e;
if(c){bM(b,this.dh);
bM(b,this.dS)}else{for(d=0,a=this.dS.length;
d<a;
d++){e=this.dS[d];
b.push(e);
bW(b,e.dh);
bX(b,e.eg)}}return b}function iK(){if(!this.iL){for(var e=this,c=e.dT(),d=e.dS,b=d.length-1,a=d[0].cX.cn(c).ce(d[b].cX.cn(c));
b>0;
b--){a.ci(d[b].cX.cn(c).ce(d[b-1].cX.cn(c)))}if(c.eG(a.cA(c),d[0].cX,d[1].cX)>0){a.ez(-1)}e.iM=(e.iL=a.cp()).b0();
e.iM.ci(c)}}function iN(a){var b=this;
b.iO();
return ac-b.e9.cf(a.cX,b.iM)}function iP(){for(var d=0,e=this.dh,b=e.length,a,c=e[b-1].di;
d<b;
d++){a=e[d].di;
if(a==3||(a==2&&c==2)){return T}c=a}}function iQ(){for(var b=0,c=this.dh,a=c.length;
b<a;
b++){if(c[b].di!=1){return F}}return T}function iR(){if(!this.e9){var b=new b8(),e=this.dS,d=0,c,a;

for(c=0,a=e.length;
c<a;
c++){b.ci(e[c].cX);
d++}if(d>1){b.x/=d;
b.y/=d;
b.z/=d}this.e9=b}return this.e9}function iS(e){var c=this,b=[],d=[],h,k,g,f,a;
for(k=0,g=c.dS.length;
k<g;
k++){h=c.dS[k];
if(!e||!h.dO){b.push(h.cX)}bX(d,h.eg)}for(k=0,g=d.length;
k<g;
k++){h=d[k];
if(h.et){for(f=0,a=h.et.length;
f<a;
f++){b.push(h.et[f].dE,h.et[f].dD)}}if(!e){bN(b,h.e9);
bN(b,h.c2);
bN(b,h.c0)}}if(!e){bN(b,c.e9);
bN(b,c.c2);
bN(b,c.c0)}return b}function iT(c){if(!(c instanceof iU)){return F}var b=this.dS.length,g,e,h,f,a,d;
if(b!=c.dS.length){return F}g=bL(c.dS,this.dS[0]);
if(g==-1){return F}e=bL(c.dS,this.dS[1]);
if(e==-1){return F}h=e-g;
if(M.abs(h)==b-1){h=-1}if(M.abs(h)!=1){return F}for(f=2,a=b;
f<a;
f++){d=(a+f*h+g)%a;
if(!this.dS[f].bF(c.dS[d])){return F}}return T}function iV(d,b){if(!b){b=[]}else{if(bK(b,this)){return}}if(d!=a_){b.push(this);
this.iL=al;
if(d==ba){this.e9=al}if(d!=a8){d=ba}for(var c=0,a=this.dS.length;
c<a;
c++){this.dS[c].e_(d,b)}for(c=0,a=this.dh.length;
c<a;
c++){this.dh[c].e_(d,b)}b.pop()}}function iW(){var a=this.dS,b=a.concat(),c;
b.sort(iI);
c=bL(a,b[0]);
bS(a,c);
if(bL(b,a[1])>bL(b,a[b.length-1])){a.reverse();
bS(a,-1)}}function iU(a,c){var b=this;
b.bD=by();
b.dS=a;
b.dh=c;
b.iX=iW;
b.dq=iJ;
b.e_=iV;
b.dT=iR;
b.iO=iK;
b.iY=iN;
b.iZ=iP;
b.i0=iQ;
b.e8=iS;
b.bF=iT}function i1(b){var a=bX(this.dS,b);
if(a){b.hZ=this}return a}function i2(a){return bX(this.dh,a)}function i3(){for(var b=[],c=0,a=this.dS.length;
c<a;
c++){b.push(this.dS[c].cX.b0())}return b}function i4(c){var b=0,a=this.dS.length;
if(c.length!=a){alert("Error")}for(;
b<a;
b++){this.dS[b].cX=c[b].b0()}}function i5(g,d,j){var e=d.length,b=d[e-1],l,f,k,c,a,h;
if(e<=i6){for(c=0,a=b.dh.length;
c<a;
c++){l=b.dh[c];
f=(b.bF(l.cW)?l.cY:l.cW);
if(e>=2&&f.bF(d[e-2])){continue}h=-1;
j[e-1]=l;
if(e>=2){h=bL(d,f)}if(h==-1){d[e]=f;
i5(g,d,j);
d.length=e}else{k=new iU(d.slice(h),j.slice(h));
bX(g,k)}}}j.length=e-1;
return g}function i7(){var c=this;
if(!c.gX){c.gX=[];
for(var c=this,b=0,a=c.dh.length;
b<a;
b++){c.dh[b].gX=al}if(c.dS.length){i5(c.gX,[c.dS[0]],[])}}return c.gX}function i8(){var a=this;
eK.apply(a);
a.dS=[];
a.h0=[];
a.dh=[];
a.e_=i9;
a.dR=i7;
a.dq=i_;
a.e8=ja;
a.ez=jb;
a.dQ=e7;
a.jc=jd;
a.cp=je;
a.jf=jg;
a.fy=i1;
a.fC=i2;
a.jh=i3;
a.ji=i4}function jj(t,m,a,g,d,j){if(d){m=d.cX}if(j){a=j.cX}if(!m||!a){return F}var p=eo*1.4,u=a.cH(m),n=M.min(M.round(u/p/M.cos(jk*af)),jl),c,f=jk,k=[],h=[],r,q,b,l,o;
if(n<=0){return F}c=m.cC(a);
if(j){if(n>1){f=M.acos(bw(u/n/p,-0.9,0.9))/af}}f_.fL();
if(n==1){if(d&&(b=d.gZ(j))){if(!g){b=f_.fC(b)}b.iA();
f_.eT();
return T}else{c+=f}}else{if(n%2){c+=f/(n-1)}}k[0]=M.cos((c-f)*af);
k[1]=M.cos((c+f)*af);
h[0]=M.sin((c-f)*af);
h[1]=M.sin((c+f)*af);
if(j){n--}if(g){l=st.gd();
if(!t.ctrlKey){l.jm()}if(d){r=d;
g=d.ec}else{r=new f8(m.b0());
g.fy(r);
l.fy(r)
}}else{if(d){r=f_.fy(d)}else{r=f_.fy(new f8(m.b0()))}aV.jn.push(aV.text(a.x,a.y+30/hG,n+(d?0:1)).attr(aw,2+20/hG))}if(!d){r.f5(gK(),T)}for(o=0;
o<n;
o++){q=r.b0();
if(o==0){q.f5(gK(),T)}q.cX.x+=p*k[o%2];
q.cX.y+=p*h[o%2];
if(!g){q=f_.fy(q)}b=new ga(r,q,1,0);
if(g){g.fy(q);
g.fC(b);
l.fC(b);
l.fy(q)}else{b=f_.fC(b)}r=q}if(j){if(g){b=g.fD.jo(r,j,1,0);
l.fC(b)}else{q=f_.fy(j);
b=f_.fC(new ga(r,q,1,0))}}f_.eT();
return T}function jp(d){if(!d){d=new b1()}var e=this,b=new fj(),c,a;
bG(d,e,b);
b.jq=2;
for(c=0,a=e.h0.length;
c<a;
c++){b.hs(d.bZ(e.h0[c]),T)}for(c=0,a=e.dh.length;
c<a;
c++){b.fC(d.bZ(e.dh[c]),T)}for(c=0,a=e.dS.length;
c<a;
c++){b.fy(d.bZ(e.dS[c]),T)}b.ed=d.bZ(e.ed);
b.jq=1;
b.ik();
return b}function i9(e,b){if(!b){b=[]}else{if(bK(b,this)){return}}var d=this,c,a;
b.push(d);
if(e>a9){d.e9=al;
d.ff=al}if(e>a8&&e<bb){d.c2=al;
d.c0=al}if(e!=a_){if(e!=a8){e=ba}for(c=0,a=d.dS.length;
c<a;
c++){d.dS[c].e_(e,b)}for(c=0,a=d.dh.length;
c<a;
c++){d.dh[c].e_(e,b)}if(d.h0){for(c=0,a=d.h0.length;
c<a;
c++){d.h0[c].e_(e,b)}}if(d.jr){for(c=0,a=d.jr.length;
c<a;
c++){d.jr[c].e_(e,b)}}if(d.gX){for(c=0,a=d.gX.length;
c<a;
c++){d.gX[c].e_(e,b)}}}if(d.fD){d.fD.e_(e,b)}else{if(d.ec){d.ec.e_(e,b)}}b.pop()}function js(f){if(!this.dS.length){return}this.dQ();
if(f.x>this.c2.x&&f.x<this.c0.x){var e=this,c=new jt(e),d,a,b;
if(!e.jr){e.ik()}if(e.dS.length<2){return}for(d=0,a=e.jr.length;
d<a;
d++){b=e.jr[d];
b.dQ();
if(0.5*(b.c2.x+b.c0.x)>f.x){c.ju.push(b)}else{c.jv.push(b)}}return c}}function jb(d,b){if(b){b=this.dT()}for(var e=this.e8(),c=0,a=e.length;
c<a;
c++){e[c].ez(d,b)}}function je(){if(this.dS.length>1){var h=this,e=0,g=0,d,a,c,f,b;
if(h.dh.length){for(d=0,a=h.dh.length;
d<a;
d++){f=h.dh[d];
e+=f.cW.cX.cH(f.cY.cX);
g++}}else{for(d=0,a=h.dS.length;
d<a;
d++){b=h.dS[d];
for(c=0;
c<d;
c++){e+=b.cX.cH(h.dS[c].cX);
g++}}}if(e>0){h.ez(c1*g/e)}}this.dQ()}function jw(c,d){var b=c-this.c2.x,a=bt(d)-0.5*(this.c2.y+this.c0.y);
this.ci(b,a)}function jx(d,b){var e=this,c,a;
if(e.bF(d)){return}for(c=0,a=d.dS.length;
c<a;
c++){e.fy(d.dS[c])}for(c=0,a=d.dh.length;
c<a;
c++){e.fC(d.dh[c])}for(c=0,a=d.h0.length;
c<a;
c++){e.hs(d.h0[c])}if(e.gX&&d.gX){bM(e.gX,d.gX)}else{e.jy()}e.ik();
if(b||jz=="tmpl"){e.ed=d.ed}e.e_(ba)}function jA(c,b){var d=this,a;
if(bX(d.dS,c)){c.ec=d;
c.dP=al;
c.e4=al;
if(!b){e3(c);
a=d.jB();
a.e_(a_);
if(a.fA){a.fA.e_(a_)}}return T}return F}function jC(h,c,g,m){var u=this,l,p,n,o,t,d,f,e=[],k=[],a=[],q=[],b,r=m.length;
if(r<=1){l=new h9();
if(r){l.hb(m[0].cW.du?m[0].cW:m[0].cY)}}else{if((n=bc(h))<hV&&n>1){l=new ia();
u.fh(m[0],T);
u.fh(m[1],T);
bM(e,c);
bM(k,g);
bP(k,m);
hn(m,0,e,a);
hn(m,1,e,a);
for(p=0;
p<n;
p++){if(p>0){b=new b1();
q[p]=b}for(o=0,t=k.length;
o<t;
o++){d=k[o];
if(p==0){l.fC(d);
bX(e,d.cW);
bX(e,d.cY)}else{f=b.bZ(d);
l.fC(f);
u.fC(f,T)}}for(o=0,t=e.length;
o<t;
o++){d=e[o];
if(p==0){l.fy(d);

l.hb(d)}else{f=b.bZ(d);
l.fy(f);
u.fy(f,T)}}}for(p=0;
p<=n;
p++){if(p==0){f=new ga(a[1],a[0],m[0].di,m[0].dV);
m[0]=f}else{if(p==n){f=new ga(q[p-1].bZ(a[2]),a[3],m[1].di,m[1].dV);
m[1]=f}else{if(p==1){f=new ga(a[2],q[p].bZ(a[0]),m[1].di,0)}else{f=new ga(q[p-1].bZ(a[2]),q[p].bZ(a[0]),m[1].di,0)}}}l.fC(f);
u.fC(f,T)}}else{l=new ic();
if(n){l.he=""}else{l.he="HT"}}}l.hc(m);
if(l.type!=ar){for(o=0,t=g.length;
o<t;
o++){l.fC(g[o])}for(o=0,t=c.length;
o<t;
o++){l.fy(c[o])}}l.df=h;
l.hd=n;
l.h7();
u.hs(l);
l.hQ(T);
return l}function jD(c,b){if(bX(this.h0,c)){c.ec=this;
var a;
if(c.dS[0]&&(a=c.dS[0].hZ)){c.hZ=a;
bX(a.h0,c)}c.dP=al;
c.e4=al;
if(!b){e3(c)}return T}return F}function jE(d,c){if(d.bF(c)){return}e3(c);
this.e_(bb);
if(bK(this.dS,c)){eZ(d,this.dS)}else{bQ(this.dS,d,c);
eZ(d)}var f=this,a,e,b;
for(a=d.dh.length-1;
a>=0;
a--){e=d.dh[a];
e3(e);
if(e.cW.bF(d)){e.cW=c;
e3(e.cY)}else{if(e.cY.bF(d)){e.cY=c;
e3(e.cW)}}bX(c.dh,e)}c.e_(bb);
if(!d.dF){b=st.gd();
bQ(b.dS,d,c);
c.du=d.du}if(d.bF(f.ed)){f.ed=c}f.jy();
f.ik();
if(d.bF(ef)||c.bF(ef)){hT()}}function jF(d,h){var g=this,b,f,c=st.gd(),e,a=d.hZ;
g.e_(ba);
eZ(d,g.dS);
for(b=d.dh.length-1;
b>=0;
b--){f=d.dh[b];
if(f){g.fh(f,h)}}g.jG(d);
bR(d,c.dS);
if(d.bF(g.ed)){g.ed=al}if(g){if(a){bR(d,a.dS);
if(!a.dS.length){eZ(a,g.jr)}}if(!g.dS.length&&(e=g.fD)){e.jH(g)}}if(d.bF(ef)){ef=al;
hT()}}function jI(d){var e=this;
e.e_(ba);
d.dj();
eZ(d,e.h0);
var a,c,b=st.gd();
for(a=d.dh.length-1;
a>=0;
a--){c=d.dh[a];
if(c){e.fh(c)}}for(a=d.dS.length-1;
a>=0;
a--){c=d.dS[a];
if(c){e.fi(c)}}e.jG(d);
bR(d,b.h0);
if(d.bF(hR)){hR=al;
hT()}}function jJ(e,d){var f=this,b=e.cW,a=e.cY,c;
if(!b||!a){return F}if(bX(f.dh,e)){e.ec=f;
e.dP=al;
e.e4=al;
bX(e.cW.dh,e);
bX(e.cY.dh,e);
if(f.jq==1){c=e.cW.hZ;
if(!c){if(!e.cY.hZ){f.ik()}else{c=e.cY.hZ;
e.hZ=c;
e.cW.hZ=c;
bX(c.dh,e);
bX(c.dS,e.cW)}}else{if(!e.cY.hZ){e.hZ=c;
e.cY.hZ=c;
bX(c.dh,e);
bX(c.dS,e.cY)}else{if(!c.bF(e.cY.hZ)){f.ik()}else{f.jy();
bX(c.dh,e)}}}}e.cW.e_(bb);
e.cY.e_(bb);
if(!d){e2(e.cW.dh);
e2(e.cY.dh);
e3(e.cW);
e3(e.cY)}return T}return F}function jK(c,b){if(bK(this.dh,b)){eZ(c,this.dh)}else{bQ(this.dh,c,b);
eZ(c)}if(bK(c.cW.dh,b)){bR(c,c.cW.dh)}else{bQ(c.cW.dh,c,b)}if(bK(c.cY.dh,b)){bR(c,c.cY.dh)}else{bQ(c.cY.dh,c,b)}e3(b);
c.cW.e_(bb);
c.cY.e_(bb);
e3(c.cW);
e3(c.cY);
e2(c.cW.dh);
e2(c.cY.dh);
this.e_(bb);
var a=st.gd();
bQ(a.dh,c,b);
b.du=c.du;
this.jy();
this.ik()}function jL(){for(var c=this,b=0,a=c.dh.length;
b<a;
b++){c.dh[b].gX=al}for(b=0,a=c.dS.length;
b<a;
b++){c.dS[b].gX=al}if(c.jr){for(b=0,a=c.jr.length;
b<a;
b++){c.jr[b].gX=al}}c.gX=al}function jM(f,h){var g=this,d=st.gd(),c,a,e,b=f.cW.hZ;
if(!b){b=f.cY.hZ}eZ(f,g.dh);

bR(f,f.cW.dh);
bR(f,f.cY.dh);
f.cW.e_(bb);
f.cY.e_(bb);
e3(f.cW);
e3(f.cY);
e2(f.cW.dh);
e2(f.cY.dh);
g.e_(ba);
if(h){if(b){bR(f,b.dh)}}else{g.ik();
g.jy()}g.jG(f);
d.fh(f);
for(c=0,a=g.h0.length;
c<a;
c++){e=g.h0[c];
if(bK(e.g_,f)){if(e.type!=aq){bR(f,e.g_)}else{e.hW()}}}}function jN(e,b){e.hZ=b;
b.dS.push(e);
if(bX(b.h0,e.eg)){e.eg.hZ=b}var c,a,d;
for(c=0,a=e.dh.length;
c<a;
c++){d=e.dh[c];
bX(b.dh,d);
if(!d.cW.hZ){jN(d.cW,b)}else{if(!d.cY.hZ){jN(d.cY,b)}}}}function jO(d){if(d||f_.fM()){var e=this;
e.jr=[];
for(var b,c=0,a=e.dS.length;
c<a;
c++){e.dS[c].hZ=al}for(c=0,a=e.dS.length;
c<a;
c++){if(!e.dS[c].hZ){b=new i8();
e.jr.push(b);
b.ec=e;
jN(e.dS[c],b)}}}}function em(b,a,c){if(c){return b.cX.cC(a.cX,c.cX)}else{return b.cX.cC(a.cX)}}function jP(b,a,c){if(c){return b.cX.cf(a.cX,c.cX)}else{return b.cX.cf(a.cX)}}function f9(k,q,n,m){var o,l=eo*1.4,b,c,r,p=[],g,f,d,a=3*jQ,h=k.cX;
if(n){n.z=h.z}if(n&&m&&m.ctrlKey){if(m.shiftKey){return n}o=h.cC(n);
b=cQ(h,o,l)}else{if(n&&m&&m.shiftKey){l=h.cH(n)}if((d=k.dh.length)>1&&d<4&&q==1){for(g=0;
g<d;
g++){r=k.dh[g].gn(k);
for(f=g+1;
f<d;
f++){if(M.abs(ai-h.cf(r.cX,k.dh[f].gn(k).cX))>5){g=d+1;
break}}}if(g==d){g=k.dh[0].gn(k).cX;
f=k.dh[1].gn(k).cX;
b=h.eD(g,f,l,0.5*ai);
r=h.eD(g,f,l,-0.5*ai);
if(n){g=n.cH(b);
f=n.cH(r)}else{d=k.ec;
g=d.jc(b);
f=d.jc(r)}if(f<g||(f==g&&h.eE(r)>h.eE(b))){b=r}}}if(!b){o=k.gb(q,n);
do{b=cQ(h,o,l);
c=k.ec.fD.jR(b,a,a);
if(!c||!c.length){break}for(g=0;
g<c.length;
g++){p.push(new gh(k,c[g]))}o=k.gq(n,p)}while(p.length<10);
if(d>2||!k.g0()){a=0;
for(g=d-1;
g>=0;
g--){c=k.dh[g].gn(k);
a+=(c.cX.z-h.z)/(M.abs(o-em(k,c))+1)}b=cP(h,o,(a>0?-30:30),l)}}}return b}function jS(c,a,b){if(bt(b)!=0){return ap+c+bn("1",3)+S+bn(a+1,3)+S+bn(M.round(b),3)}else{return""}}function jT(){var c=this,f,e,d,b,k,g,h=[],a=ab+"\n"+Number(new Date())+"\n"+navigator.userAgent+"\n"+bn(c.dS.length,3)+bn(c.dh.length,3);
if(jz=="rxn"){a+="  0  0  0  0  0  0  0  0  0 V2000"}else{a+="  0  0  0  0  0  0  0  0999 V2000"}for(f=0,e=c.dS.length;
f<e;
f++){a+=c.dS[f].g6()}for(f=0,e=c.dh.length;
f<e;
f++){a+=c.dh[f].g6()}for(f=0,e=c.dS.length;
f<e;
f++){a+=jS("CHG",f,c.dS[f].ea());
a+=jS("RAD",f,c.dS[f].dd);
a+=jS("ISO",f,c.dS[f].de)}if(jz=="tmpl"&&c.ed){a+=ap+"ATT"+bn("1",3)+S+bn(c.ed.getIndex(),3)+S+aZ.val()+S+a0.val()}for(f=0,e=c.h0.length;
f<e;
f++){k=c.h0[f];
if(!(b=k.dS.length)){continue}a+=ap+"STY"+bn("1",3)+S+bn(f+1,3)+S+k.type;
if(k.type==as){a+=ap+"SCN"+bn("1",3)+S+bn(f+1,3)+S+k.he}for(d=0;
d<b;
d++){a+=(d%15?"":ap+"SAL "+bn(f+1,3)+bn(M.min(b-d,15),3))+bn((k.dS[d].getIndex()+1),4)}if(k.type==ar){for(d=0,b=k.ha.length;
d<b;
d++){a+=(d%15?"":ap+"SPA "+bn(f+1,3)+bn(M.min(b-d,15),3))+bn((k.ha[d].getIndex()+1),4)}}if(k.et){for(d=0,b=k.et.length;
d<b;
d++){g=k.et[d];
a+=ap+"SDI "+bn(f+1,3)+bn(4,3)+fW(g.dE.x)+fW(-g.dE.y)+fW(g.dD.x)+fW(-g.dD.y)}}for(d=0,b=k.g_.length;
d<b;
d++){a+=(d%15?"":ap+"SBL "+bn(f+1,3)+bn(M.min(b-d,15),3))+bn((k.g_[d].getIndex()+1),4)}a+=ap+"SMT "+bn(f+1,3)+S+bu(k.df);
if(k.er){h.push(k)
}}for(d=0,b=h.length;
d<b;
d++){a+=(d%15?"":ap+"SDS EXP"+bn(M.min(b-d,15),3)+S)+bn(h[d].getIndex()+1,3)}for(f=0,e=c.jU.length;
f<e;
f++){a+="\n"+c.jU[f]}a+=ap+"END\n";
return a}function jV(t){var h=new fj(),a=t.split("\n"),p=0,m=a.length,o,u,n,y,q={},c,d,b,x,w,f,g,l,v;
h.jq=0;
do{if(p<m){p++}else{return al}}while(a[p]!=al&&!bk(a[p],"V2000"));
c=bh(a[p],[3,3]);
for(o=0,u=bc(c[0]);
o<u;
o++){p++;
d=bh(a[p],[10,10,10,1,3,2,3,3,3,3,3,3,3,3,3,3]);
b=new f8(new b8(parseFloat(d[0]),-parseFloat(d[1]),parseFloat(d[2])));
l=bc(d[6]);
if(l!=0){b.f0=4-l}b.gf(d[4]);
b.dg=bc(d[8])-1;
if(b.dg<0){b.dg=al}b.f2=bc(d[10]);
if(b.f2>=15){b.f2=0}else{if(b.f2==0){b.f2=al}}if(d[5]!="0"&&b.fZ){b.de=M.round(b.fZ.m)+bc(d[5])}h.fy(b)}for(o=0,u=bc(c[1]);
o<u;
o++){p++;
d=bh(a[p],[3,3,3,3,3,3,3]);
x=h.dS[bc(d[0])-1];
w=h.dS[bc(d[1])-1];
if(!x||!w||x.bF(w)){continue}l=bc(d[2]);
if(a7[l]!=al){l=a7[l]}f=new ga(x,w,l,bc(d[3]));
h.fC(f)}while(p<m){p++;
d=bi(a[p]);
switch(d[1]){case"CHG":u=bt(bc(d[2]));
try{for(o=0;
o<u;
o++){l=bc(d[2*o+4]);
if(!isNaN(l)){b=h.dS[bc(d[2*o+3])-1];
b.f0=l}}}catch(r){}break;
case"ISO":u=bt(bc(d[2]));
try{for(o=0;
o<u;
o++){l=bc(d[2*o+4]);
if(!isNaN(l)){b=h.dS[bc(d[2*o+3])-1];
b.de=l}}}catch(r){}break;
case"RAD":u=bt(bc(d[2]));
try{for(o=0;
o<u;
o++){l=bc(d[2*o+4]);
if(!isNaN(l)){b=h.dS[bc(d[2*o+3])-1];
b.dd=l}}}catch(r){}break;
case"ATT":try{h.ed=h.dS[bc(d[3])];
h.aZ=bu(d[4]).split(",");
h.a0=bu(d[5])}catch(r){}break;
case"STY":u=3+2*bt(bc(d[2]));
try{for(o=3;
o<u;
o+=2){l=d[o+1].toUpperCase();
v=bc(d[o]);
if(l=="GEN"){l=as}if(l==aq){g=new h9()}else{if(l==ar){g=new ia()}else{if(l==as){g=new ic()}else{continue}}}h.hs(g);
q[v]=g}}catch(r){}break;
case"SCN":u=3+2*bt(bc(d[2]));
try{for(o=3;
o<u;
o+=2){v=bc(d[o]);
g=q[v];
if(g.type==as){g.he=d[o+1].toUpperCase()}}}catch(r){}break;
case"SDI":v=bc(d[2]);
try{g=q[v];
if(g&&g.ib){g.ib(d.slice(4))}}catch(r){}break;
case"SAL":v=bc(d[2]);
try{g=q[v];
if(g){for(o=4,u=d.length;
o<u;
o++){g.fy(h.dS[bc(d[o])-1])}}}catch(r){}break;
case"SPA":v=bc(d[2]);
try{g=q[v];
if(g){for(o=4,u=d.length;
o<u;
o++){g.hb(h.dS[bc(d[o])-1])}}}catch(r){}break;
case"SBL":v=bc(d[2]);
try{g=q[v];
if(g){for(o=4,u=d.length;
o<u;
o++){f=h.dh[bc(d[o])-1];
g.hc(f)}}}catch(r){}break;
case"SDS":l=a[p].substr(13);
try{for(o=0,u=l.length;
o<u;
o+=3){v=bc(bg(l.substr(o,3)));
g=q[v];
if(g){g.hQ(F)}}}catch(r){}break;
case"SMT":v=bc(d[2]);
try{g=q[v];
if(g){g.df=d[3].replace(/^[\s\^]+|[\s\^]+$/g,"");
g.hd=bc(d[3]);
if(g.hd){g.he=""}}}catch(r){}break;
case"END":p=m;
break;
default:h.jU.push(a[p])}}for(p=0,m=h.dS.length;
p<m;
p++){b=h.dS[p];
b.gC();
if(b.f0==b.gw){b.f0=al}}for(p=0,m=h.h0.length;
p<m;
p++){g=h.h0[p];
for(o=0,u=g.dS.length;
o<u;
o++){b=g.dS[o];
for(n=0,y=b.dh.length;
n<y;
n++){g.fC(b.dh[n])}}if(g.type==aq&&!g.g_.length){bW(g.ha,g.dS)}if(g.type!=ar){for(o=0,u=g.ha.length;
o<u;
o++){b=g.ha[o];
for(n=0,y=b.dh.length;
n<y;
n++){f=b.dh[n];
if(!bK(g.dS,(f.cW.bF(b)?f.cY:f.cW))){bR(f,g.dh)}}}}if(g.er==al){g.hQ(T)}}h.jq=1;
h.ik();
return h}function jW(){if(!this.gX){if(!this.jr){this.ik()}this.gX=[];
for(var b=0,a=this.jr.length;
b<a;
b++){bM(this.gX,this.jr[b].dR())}}return this.gX}function jX(){var a=this;
if(a.dZ){return a.dZ}if(a.fD){return a.fD.cV()}}function i_(b){var c=this,a;

if(!c.ff){a=[];
bM(a,c.dh);
bM(a,c.dS);
bM(a,c.h0);
c.ff=a}return c.ff}function jd(e){for(var c=0,d,a=this.dS,b=a.length-1;
b>=0;
b--){d=jY-a[b].cX.cH(e);
if(d>0){c+=jZ*d*d}}return c}function ja(e){var h=this,b=[],g,d,a,c,f;
for(d=0,a=h.dS.length;
d<a;
d++){g=h.dS[d];
if(!e||!g.dO){b.push(g.cX)}}if(!e){if(h.jr){for(d=0,a=h.jr.length;
d<a;
d++){bN(b,h.jr[d].e9)}}if(h.gX){for(d=0,a=h.gX.length;
d<a;
d++){bN(b,h.gX[d].e9)}}}for(d=0,a=h.h0.length;
d<a;
d++){g=h.h0[d];
if(g.et){for(c=0,f=g.et.length;
c<f;
c++){b.push(g.et[c].dE,g.et[c].dD)}}if(!e){bN(b,g.e9);
bN(b,g.c2);
bN(b,g.c0)}}if(!e){bN(b,h.e9);
bN(b,h.c2);
bN(b,h.c0)}return b}function j0(b,a){this.gi=b;
this.j1=a}function j2(){for(var b=[],e,d,f,c=0,a=this.dS.length;
c<a;
c++){e=this.dS[c];
if((d=e.fZ)&&d.fT){f=d.fT+e.ea()-e.gr();
if(f>0){b.push(new j0(e,f))}}}return b}function j3(){if(!this.fD){return -1}return bL(this.fD.fH,this)}function g5(){return this.ec}function j4(){return(this.fD?this.fD:this)}function jt(a){this.ec=a;
this.jv=[];
this.ju=[]}function fj(){var a=this;
eK.apply(a);
a.dS=[];
a.h0=[];
a.dh=[];
a.jU=[];
a.jq=1;
a.ik=jO;
a.dR=jW;
a.e_=i9;
a.jy=jL;
a.jT=jT;
a.j5=j2;
a.ez=jb;
a.dQ=e7;
a.jc=jd;
a.cp=je;
a.jw=jw;
a.fy=jA;
a.hs=jD;
a.hr=jC;
a.ge=jE;
a.fi=jF;
a.hF=jI;
a.fC=jJ;
a.j6=jK;
a.fh=jM;
a.fm=jx;
a.j7=js;
a.jf=j8;
a.dq=i_;
a.jG=fe;
a.e8=ja;
a.getIndex=j3;
a.b0=jp;
a.jB=j4;
a.eb=eY;
a.cV=jX}function j9(d){if(!d){d=new b1()}var e=this,b=new fl(e.dZ),c,a;
bG(d,e,b);
for(c=0,a=e.fH.length;
c<a;
c++){b.fm(e.fH[c].b0(d))}for(c=0,a=e.j_.length;
c<a;
c++){b.ka(e.j_[c].b0(d),T)}b.kb=e.kb;
if(e.fq){b.fq=e.fq.b0(d);
b.fq.fD=b}b.kc=e.kc.b0(d);
return b}function kd(b){if(!b){b=new b1()}var c=this,a=new ke(c.cX.x,c.cX.y);
bG(b,c,a);
a.du=c.du;
return a}function kf(b){if(!b){b=new b1()}var c=this,a=new fu(c.dE.b0(),c.dD.b0());
bG(b,c,a);
a.du=c.du;
a.fD=b.bZ(c.fD);
return a}function kg(){return co(this.dE,this.dD)}function kh(a){a.dj();
return bR(a,this.fH)}function ki(a,c,b){var d=this;
if(jz=="rxn"||!d.fH.length){if(bX(d.fH,a)){a.fD=d;
if(c){d.kj()}}}else{d.fH[0].fm(a,b)}}function kk(){this.kl();
this.km();
this.kn()}function ko(){if(jz!="rxn"){return}var c=this,f,e,g,a=c.fH,b,d,h,k,j;
for(f=a.length-1;
f>=0;
f--){b=a[f];
if(!b.dS.length){this.jH(b)}}a.sort(kp);
if(c.fq){g=c.fq.dT()
}for(f=0,e=a.length-1;
f<e;
f++){b=a[f];
k=a[f+1];
d=b.dT();
j=k.dT();
if(g&&g.x>d.x&&g.x<j.x){c.kb=f+1}else{h=c.kq(d);
if(!h||h.cX.x>=j.x){b.dQ();
k.dQ();
c.kr(0.5*(b.c0.x+k.c2.x),0.5*(j.y+d.y))}}}}function ks(l,k,d){if(l&&k){if(d){var c=this,b=l.dT(),j=k.dT(),e=M.min(b.x,j.x),a=M.max(b.x,j.x),g,f,h;
for(g=c.j_.length-1;
g>=0;
g--){f=c.j_[g].cX;
if(e<f.x&&f.x<a){c.kt(c.j_[g])}}if(c.fq){h=c.fq.dT();
if(e<h.x&&h.x<a){c.ku()}}}l.fm(k);
bR(k,this.fH);
this.km()}}function kv(){var a=this,j=a.j_.concat(),e,g,c,f,b={},d={},h;
if(a.fq){j.push(a.fq)}j.sort(kw);
for(e=j.length-1;
e>=0;
e--){g=j[e];
f=g.dT();
h=this.kx(f);
if(!(h=this.kx(f))&&g instanceof ke){a.kt(g,T)}else{b[g.bD]=h;
if(!(h=this.ky(f))&&g instanceof ke){a.kt(g,T)}d[g.bD]=h}}for(e=j.length-2;
e>=0;
e--){g=j[e];
c=j[e+1];
h=b[g.bD];
if(h&&h.bF(b[c.bD])&&d[g.bD]&&d[g.bD].bF(d[c.bD])){if(c instanceof ke){a.kt(c,T)}else{a.kt(g,T)}}}}function kz(f,j,g){for(var a,h=an,b,c,e=0,d=this.fH.length;
e<d;
e++){b=this.fH[e].dT();
if((b.x-f.x)*j>0||(b.y-f.y)*g>0){c=f.cH(b,T);
if(c<h){a=this.fH[e];
h=c}}}return a}function kA(a){return this.kB(a,-1,0)}function kC(a){return this.kB(a,1,0)}function kD(f,j,g){for(var a,h=an,b,c,e=0,d=this.j_.length;
e<d;
e++){b=this.j_[e].cX;
if((b.x-f.x)*j>0||(b.y-f.y)*g>0){c=f.cH(b,T);
if(c<h){a=this.j_[e];
h=c}}}return a}function kE(a){return this.kF(a,-1,0)}function kG(a){return this.kF(a,1,0)}function kH(c){var k=c.ec,l=new fj(),b,h,m,g,f,e,a,d=st.gd();
this.fH.splice(bL(this.fH,k)+1,0,l);
l.fD=this;
l.jr=[];
this.km();
for(g=0,f=c.ju.length;
g<f;
g++){b=c.ju[g];
for(e=0,a=b.dS.length;
e<a;
e++){h=b.dS[e];
bR(h,k.dS);
if(!bK(l.dS,h)){l.fy(h)}}for(e=0,a=b.dh.length;
e<a;
e++){m=b.dh[e];
bR(m,k.dh);
if(!bK(l.dh,m)){l.fC(m)}}bR(b,k.jr);
bX(l.jr,b);
delete k.gX;
k.e_(ba);
d.e_(bb)}}function kI(e,b){var c=this,d,a;
if(!b){d=c.kx(e.cX),a=c.ky(e.cX);
c.gc(d,a,F)}e.dj();
eZ(e,c.j_);
c.jG(e);
if(!b){c.km()}}function kJ(c,a){if(jz!="rxn"){return}var b=this;
b.j_.push(c);
c.fD=b;
if(!a){e3(c);
b.e_(a_)}return T}function kK(b,a,d){var c;
if(b instanceof b8){c=new ke(b.x,b.y)}else{c=new ke(b,a)}this.ka(c);
if(!d){this.kL(c.cX)}return c}function dy(b,a,d,c){if(!c){c=this.data(ao)}kM=c;
switch(gJ){case aK:case aL:case aG:case aH:c.c8.attr("cursor","move");
break;
case aP:if(gL){c.fD.kt(c);
kM=al;
kN=T}break}}function dz(b,a,d,c){kM=al}function dH(c,a,d,b){if(!b){b=this.data(ao)}kO=b;
switch(gJ){case aK:case aL:case aG:case aH:b.c8.attr("cursor","move");
break;
case aP:if(gL){b.fD.ku(b);
kO=al}break}}function dI(c,a,d,b){kO=al}function kP(h){for(var f=this,e,b,g=an,d,c=0,a=f.fH.length;
c<a;
c++){b=f.fH[c].j7(h);
if(b){d=h.cH(f.fH[c].dT(),T);
if(d<g){e=b;
g=d}}}if(e){f.kQ(e)}f.km()}function kR(b){var c=this,a=c.fq;
if(!a){return F}if(b){c.kr(co(a.dE,a.dD))}c.jG(a);
a.dj();

delete c.fq}function kS(b,a,c){if(jz!="rxn"){return}if(!(b instanceof b8)){b=new b8(b,0)}if(!a){a=b.b0();
a.x+=kT}this.fv(new fu(b,a));
if(!c){this.kL(co(b,a))}}function kU(a){if(jz!="rxn"){return}var b=this;
if(b.fq){b.ku(T)}b.fq=a;
b.fq.fD=this;
b.e_(a_)}function kV(d,c,b,e){if(b==al){b=gN}if(e==al){e=gO}var a=d.ec,f;
if(!this.bF(a.fD)){return}if(!a.bF(c.ec)){this.gc(a,c.ec,T)}f=new ga(d,c,b,e);
a.fC(f);
return f}function kW(m,g){var e=m.kX,a=m.kY,h=e.ec,b=m.kZ,d,c,f,k,j,l,i;
if(!this.bF(h.fD)){return}d=(m.eF?a.cY:a.cW);
c=(m.eF?a.cW:a.cY);
if(e.di!=2||a.di!=2){k=e.iB();
if(k||e.di!=a.di){j=a.iB();
if(e.di!=2&&k){e.iC(k)}if(a.di!=2&&j){a.iC(j)}}}if(!e.cW.hZ.bF(a.cW.hZ)){b.eA((em(e.cW,e.cY)-em(d,c))*af,a.dT());
b.ci(e.cW.cX.cn(d.cX));
l=e.cW.cX.cH(e.cY.cX);
i=d.cX.cH(c.cX);
if(l>0&&i>0&&l!=i){b.ez(l/i,e.cW.cX)}}if(!h.bF(a.ec)){if(b){bR(a.ec,b.fH)}this.gc(h,a.ec,T)}f=(g[e.cW]||g[e.cY]||g[d]||g[c]);
if(f==2||(!f&&e.g4()+e.cW.g4()+e.cY.g4()>a.g4()+d.g4()+c.g4())){h.ge(d,e.cW);
g[e.cW]=2;
h.ge(c,e.cY);
g[e.cY]=2;
h.j6(a,e)}else{h.ge(e.cW,d);
g[d]=1;
h.ge(e.cY,c);
g[c]=1;
h.j6(e,a)}if(b){b.fh(a);
b.fi(d);
b.fi(c)}}function k0(d,a,h){var i=d.kX,e=d.kY,j=i.ec,f=d.kZ,l,c,m;
if(!this.bF(j.fD)){return}if(a){if(!i.hZ){j.ik()}if(!i.hZ.bF(e.hZ)){var b=i.gA(i.fY()),g=i.gr(),n=e.gA(e.fY()),k=e.gr();
if(b<k&&n<g&&(g>1||k>1)){l=f9(i,1);
c=new f8(l);
m=new ga(i,c,1,0);
j.fy(c);
j.fC(m);
h=1;
i=c}else{if(n<g){h=2}else{if(b<k){h=1}}}f.ci(i.cX.cn(e.cX))}}if(!j.bF(e.ec)){if(f){bR(e.ec,f.fH)}this.gc(j,e.ec,T)}if(h==2||(!h&&i.g4()>e.g4())){j.ge(e,i)}else{j.ge(i,e)}if(f){f.fi(e)}}function kp(d,c){d.dQ();
c.dQ();
if(d.c2.x<c.c2.x){return -1}if(d.c2.x>c.c2.x){return 1}if(d.c2.y<c.c2.y){return -1}if(d.c2.y>c.c2.y){return 1}return 0}function kw(d,c){var e=d.dT(),f=c.dT();
if(e.x<f.x){return -1}if(e.x>f.x){return 1}if(e.y<f.y){return -1}if(e.y>f.y){return 1}return 0}function k1(){if(jz!="rxn"){return}this.kb=0;
var d=this,c,b,a;
if(d.fq){c=d.fq.dT()}for(b=0,a=d.fH.length;
b<a;
b++){if(c&&d.fH[b].dT().x>=c.x){break}d.kb++}}function k2(){if(!this.fH||this.fH.length==0){return""}if(jz=="rxn"){for(var d=this,a,b,c=d.fH.length-1;
c>=0;
c--){if(!d.fH[c].dS.length){d.fH.splice(c,1)}}d.fH.sort(kp);
d.km();
b="$RXN\n\n"+ab+S+Number(new Date())+"\n\n"+bn(d.kb,3)+bn(d.fH.length-d.kb,3)+"\n";
for(c=0,a=d.fH.length;
c<a;
c++){b+="$MOL\n";
b+=d.fH[c].jT()}return b}else{return this.fH[0].jT()}}function k3(a){this.k4(a);
this.eT()}function k5(m){m=bl(m);
if(bj(m,"$RXN")){var c=this,k=m.split("$MOL\n"),h=k.shift(),g,f,o,d,a,l,n,j,b=0,e=0;
for(g=0,f=k.length;
g<f;
g++){k[g]=unescape(k[g])}o=h.split("\n");
d=unescape(o[o.length-2]);
c.kb=bc(d.substr(0,3));
a=bc(d.substr(3,3));
l=bc(d.substr(6,3));
if(l>0){n=k.splice(c.kb+a);
k.splice(c.kb,0,n);

c.kb+=l}for(g=0,f=k.length;
g<f;
g++){j=jV(k[g]);
if(!j.dS.length){if(e<c.kb){c.kb--}continue}if(e==c.kb){c.k6(b,al,T);
b+=kT+d0}else{if(e>0){c.kr(b,0,T);
b+=dt+d0}}j.cp();
j.jw(b);
c.fm(j);
b+=(j.c0.x-j.c2.x)+d0;
e++}if(g==c.kb){c.k6(b)}}else{this.kb=1;
j=jV(m);
j.cp();
this.fm(j);
if(jz=="tmpl"&&this.dZ==aV){if($.isArray(j.aZ)){aZ.val(j.aZ.join(","))}if(j.a0!=al){a0.val(j.a0)}}}}function k7(){var d=this;
if(!d.c2||!d.c0){d.c2=new b8(an,an);
d.c0=new b8(-an,-an);
for(var c=0,b=d.fH.length;
c<b;
c++){var a=d.fH[c];
a.dQ();
if(a.c0.x>d.c0.x){d.c0.x=a.c0.x}if(a.c2.x<d.c2.x){d.c2.x=a.c2.x}if(a.c0.y>d.c0.y){d.c0.y=a.c0.y}if(a.c2.y<d.c2.y){d.c2.y=a.c2.y}}}}function k8(d,a){if(!a){a=[]}else{if(bK(a,this)){return}}a.push(this);
if(d>a8&&d<bb&&d!=a_){var c=this,b;
if(c.dE.x>c.dD.x){b=c.dE;
c.dE=c.dD;
c.dD=b}}a.pop()}function k9(e,b){if(!b){b=[]}else{if(bK(b,this)){return}}var d=this,c,a;
b.push(d);
if(e>a9){delete d.ff}if(e>a8&&e<bb){d.k_()}d.fH.sort(kp);
if(e!=a8&&e!=a_){e=ba}for(c=0,a=d.fH.length;
c<a;
c++){d.fH[c].e_(e,b)}d.km();
b.pop()}function la(){delete this.c2;
delete this.c0}function lb(){return this.dZ}function lc(a){this.dZ=a;
this.dr()}function ld(c){var e=this,b,d,a;
if(!e.ff){b=[];
for(d=0,a=e.fH.length;
d<a;
d++){bM(b,e.fH[d].dq(c))}bM(b,e.j_);
if(e.fq){b.push(e.fq)}b.sort(e1);
e.ff=b}return e.ff}function le(d){for(var e=this,b=[],c=0,a=e.fH.length;
c<a;
c++){bM(b,e.fH[c].e8(d))}for(c=0,a=e.j_.length;
c<a;
c++){b.push(e.j_[c].cX)}if(e.fq){b.push(e.fq.dE);
b.push(e.fq.dD)}return b}function lf(){for(var b=[],c=0,a=this.fH.length;
c<a;
c++){bM(b,this.fH[c].dS)}return b}function lg(){for(var b=[],c=0,a=this.fH.length;
c<a;
c++){bM(b,this.fH[c].dh)}return b}function lh(r,q,b){if(!r){return}if(q==al){q=jQ}var h=r.x-q,c=r.x+q,g=r.y-q,a=r.y+q,f=r.z-b,t=r.z+b,e=[],m,l,k,d,p,o,n;
for(k=0,d=this.fH.length;
k<d;
k++){p=this.fH[k];
for(m=0,l=p.dS.length;
m<l;
m++){o=p.dS[m];
n=o.dT();
if(!o.dF&&!o.dO&&h<n.x&&n.x<c&&g<n.y&&n.y<a&&(b==al||(f<n.z&&n.z<t))){e.push(o)}}}return e}function li(o,n){if(!o){return}if(n==al){n=lj}var f=o.x-n,b=o.x+n,e=o.y-n,a=o.y+n,d,k,h,g,c,l,p,m;
for(g=0,c=this.fH.length;
g<c;
g++){l=this.fH[g];
for(k=0,h=l.dh.length;
k<h;
k++){p=l.dh[k];
if(!p.dF&&!p.dO&&f<M.max(p.cW.cX.x,p.cY.cX.x)&&M.min(p.cW.cX.x,p.cY.cX.x)<b&&e<M.max(p.cW.cX.y,p.cY.cX.y)&&M.min(p.cW.cX.y,p.cY.cX.y)<a){m=o.eI(p.cW.cX,p.cY.cX);
if(m<n){d=p;
n=m}}}}return d}function lk(n,m){if(!n){return}if(m==al){m=jQ}var f=n.x-m,b=n.x+m,e=n.y-m,a=n.y+m,d=[],k,h,g,c,l,o;
for(g=0,c=this.fH.length;
g<c;
g++){l=this.fH[g];
for(k=0,h=l.h0.length;
k<h;
k++){o=l.h0[k];
o.dQ();
if(f<o.c0.x+o.hH&&o.c2.x<b&&e<o.c0.y&&o.c2.y<a){d.push(o)}}}return d}function ll(b,a){return lm(b,this.jR(b,a))}function ln(b,a){return lm(b,this.lo(b,a))
}function lm(g,b){if(!b||!b.length){return}var d=b[0],f=d.dT().cH(g,T),e,c,a;
for(c=1,a=b.length;
c<a;
c++){e=b[c].dT().cH(g,T);
if(e<f){d=b[c];
f=e}}return d}function lp(){return this.cX}function lq(a){return[this.cX]}function lr(a){return[this.dE,this.dD]}function fl(b,c){var a=this;
eK.apply(a);
a.dZ=b;
a.fH=[];
a.j_=[];
a.kb=0;
a.kc=new gU();
a.ls=lf;
a.lt=ll;
a.lu=li;
a.lv=ln;
a.jR=lh;
a.lo=lk;
a.lw=lg;
a.e_=k9;
a.dQ=k7;
a.k_=la;
a.lx=kk;
a.kl=ko;
a.km=k1;
a.kn=kv;
a.ly=k2;
a.lz=k3;
a.k4=k5;
a.jo=kV;
a.lA=k0;
a.lB=kW;
a.ka=kJ;
a.kr=kK;
a.kt=kI;
a.fv=kU;
a.k6=kS;
a.ku=kR;
a.fm=ki;
a.jH=kh;
a.gc=ks;
a.kL=kP;
a.kQ=kH;
a.kB=kz;
a.kx=kA;
a.ky=kC;
a.kF=kD;
a.lC=kE;
a.kq=kG;
a.jf=lD;
a.dq=ld;
a.jG=fe;
a.e8=le;
a.ci=eL;
a.b0=j9;
a.eb=eY;
a.cV=lb;
a.lE=lc;
if(c){a.k4(c)}}function fu(c,a){var b=this;
eX.apply(b);
if(c.x>a.x){b.dE=a;
b.dD=c}else{b.dE=c;
b.dD=a}b.du=F;
b.e_=k8;
b.dT=kg;
b.e8=lr;
b.eT=dA;
b.dp=fb;
b.b0=kf;
b.cV=jX}function ke(a,c){var b=this;
eX.apply(b);
b.cX=new b8(a,c);
b.du=F;
b.e_=h_;
b.dT=lp;
b.e8=lq;
b.eT=ds;
b.dp=fb;
b.b0=kd;
b.cV=jX}function lF(){var c=this,h=st.dn(),a=h.fH,g,d,b,f,e,k;
for(d=0,b=a.length;
d<b;
d++){g=a[d];
for(f=0,e=g.dS.length;
f<e;
f++){c.fy(g.dS[f])}for(f=0,e=g.dh.length;
f<e;
f++){c.fC(g.dh[f])}for(f=0,e=g.h0.length;
f<e;
f++){c.hs(g.h0[f])}}k=h.fq;
if(k){c.fv(k)}for(d=0,b=h.j_.length;
d<b;
d++){c.ka(h.j_[d])}}function lG(d){for(var c,b=0,a=this.dS.length;
b<a;
b++){c=this.dS[b];
c.f5(d);
e3(c)}}function lH(){for(var c,b=0,a=this.h0.length;
b<a;
b++){c=this.h0[b];
c.hW();
this.hF(c)}}function lI(){var c=this,a=st.dn(),b;
while(c.h0.length){b=c.h0.pop();
b.ec.hF(b)}while(c.dh.length){b=c.dh.pop();
b.ec.fh(b)}while(c.dS.length){b=c.dS.pop();
b.ec.fi(b)}if(c.fq){a.ku();
c.ku()}while(c.j_.length){a.kt(c.j_.pop())}}function lJ(){var a=this;
return !a.dS.length&&!a.h0.length&&!a.dh.length&&!a.j_.length&&!a.fq}function lK(){var a=this;
while(a.h0.length){a.hF(a.h0[0])}while(a.dh.length){a.fh(a.dh[0])}while(a.dS.length){a.fi(a.dS[0])}a.ku();
while(a.j_.length){a.kt(a.j_[0])}}function lL(){var c=this,l=new b1(),g,f,d,b,e,m,k,h=[],a=[];

lM=c.b0(l,T);
for(g=0,f=c.dh.length;
g<f;
g++){b=c.dh[g];
bX(h,b.cW);
bX(h,b.cY)}for(g=0,f=c.g_.length;
g<f;
g++){b=c.g_[g];
bX(h,b.cW);
bX(h,b.cY)}for(g=0,f=h.length;
g<f;
g++){b=h[g];
e=l.bZ(b);
lM.fy(e,T);
m=b.ec;
k=l.bI[m.bD];
if(!k){k=new fj();
l.bI[m.bD]=k;
a.push(k)}k.fy(e,T)}if(lM.fH){bM(lM.fH,a)}else{lM.fH=a}for(g=0,f=c.dS.length;
g<f;
g++){b=c.dS[g];
e=l.bZ(b);
for(d=b.dh.length-1;
d>=0;
d--){if(!bK(c.dh,b.dh[d])){e=l.bZ(b);
bR(l.bZ(b.dh[d]),e.dh);
e.e_(ba)}}}for(g=0,f=lM.dS.length;
g<f;
g++){lM.dS[g].du=al}for(g=0,f=lM.dh.length;
g<f;
g++){lM.dh[g].du=al}for(g=0,f=lM.g_.length;
g<f;
g++){lM.g_[g].du=al}for(g=0,f=lM.h0.length;
g<f;
g++){lM.h0[g].du=al}lM.dr()}function lN(){var d=this.lO(),b,c,a;
for(c=0,a=d.length;
c<a;
c++){if(b=d[c].ed){return b}}}function lP(){var c=this,b,a;
if(!c.fH){c.fH=[];
for(b=0,a=c.dh.length;
b<a;
b++){bX(c.fH,c.dh[b].ec)}for(b=0,a=c.dS.length;
b<a;
b++){bX(c.fH,c.dS[b].ec)}for(b=0,a=c.h0.length;
b<a;
b++){bX(c.fH,c.h0[b].ec)}}return c.fH}function lQ(){var c=this,b,a;
if(!c.jr){c.jr=[];
for(b=0,a=c.dh.length;
b<a;
b++){bX(c.jr,c.dh[b].cW.hZ);
bX(c.jr,c.dh[b].cY.hZ)}for(b=0,a=c.dS.length;
b<a;
b++){bX(c.jr,c.dS[b].hZ)}for(b=0,a=c.h0.length;
b<a;
b++){bX(c.jr,c.h0[b].hZ)}}return c.jr}function lR(){this.copy();
this.lS()}function lT(b,a){var d=this,c=b.eg;
if(c&&!bK(d.h0,c)){return d.hs(c,a)}else{bX(d.dS,b);
if(!d.lU){d.e_(ba);
b.du=T;
if(!a){e3(b)}}return T}}function lV(a){var b=this;
if(bR(a,b.dS)&&!b.lU){b.e_(ba);
a.du=F;
b.jG(a);
e3(a)}}function lW(d,c){bX(this.h0,d);
for(var e=this,b=0,a=d.dS.length;
b<a;
b++){e.fy(d.dS[b],c)}for(b=0,a=d.dh.length;
b<a;
b++){e.fC(d.dh[b],c)}for(b=0,a=d.g_.length;
b<a;
b++){e.fC(d.g_[b],c)}if(!e.lU){e.e_(ba);
d.du=T;
if(!c){e3(d)}}return T}function lX(c){var d=this,b,a;
if(bR(c,d.h0)&&!d.lU){d.e_(ba);
c.du=F;
d.jG(c);
e3(c)}for(b=0,a=c.dS.length;
b<a;
b++){d.fi(c.dS[b])}for(b=0,a=c.dh.length;
b<a;
b++){d.fh(c.dh[b])}for(b=0,a=c.g_.length;
b<a;
b++){d.fh(c.g_[b])}}function lY(c,a){var d=this,b=c.eg;
if(b&&!bK(d.h0,b)){return d.hs(b)}else{if(bX(d.dh,c)){if(!d.lU){d.e_(ba);
c.du=T;
if(!a){e3(c)}}return T}return F}}function lZ(a){var b=this;
if(bR(a,b.dh)&&!b.lU){b.e_(ba);
a.du=F;
b.jG(a);
e3(a)}}function l0(b){for(var c=0,a=b.dS.length;
c<a;
c++){this.fy(b.dS[c])}for(c=0,a=b.dh.length;
c<a;
c++){this.fC(b.dh[c])}}function l1(b,a){this.fq=b;
if(!this.lU){this.e_(ba);
b.du=T;
if(!a){e3(b)}}return T}function l2(){var a=this;
if(a.fq){if(!a.lU){a.e_(ba);
a.fq.du=F;
e3(a.fq)}a.fq=al}}function l3(b,a){if(bX(this.j_,b)){if(!this.lU){this.e_(ba);
b.du=T;
if(!a){e3(b)}}return T}return F}function l4(a){if(bR(a,this.j_)&&!this.lU){this.e_(ba);

a.du=F;
e3(a)}}function l5(o,n,l){l=bt(l);
var c=this,k=st.dn(),a=k.fH,h,e,b,g,d,m,f;
for(e=0,b=a.length;
e<b;
e++){h=a[e];
for(g=0,d=h.dS.length;
g<d;
g++){f=h.dS[g];
if(!f.dO&&f.cX.cJ(o,n,l)){c.fy(f)}}for(g=0,d=h.dh.length;
g<d;
g++){f=h.dh[g];
if(!f.dO&&f.dT().cJ(o,n,l)){c.fC(f)}}for(g=0,d=h.h0.length;
g<d;
g++){f=h.h0[g];
if(!f.er&&f.dT().cJ(o,n,l)){c.hs(f)}}}m=k.fq;
if(m){if(m.dE.cJ(o,n,l)||m.dD.cJ(o,n,l)){c.fv(m)}}for(e=0,b=k.j_.length;
e<b;
e++){f=k.j_[e];
if(f.cX.cJ(o,n,l)){c.ka(f)}}}function l6(n,m){var c=this,k=st.dn(),a=k.fH,h,e,b,g,d,l,f;
for(e=0,b=a.length;
e<b;
e++){h=a[e];
for(g=0,d=h.dS.length;
g<d;
g++){f=h.dS[g];
if(!f.dO&&f.cX.cL(n,m)){c.fy(f)}}for(g=0,d=h.dh.length;
g<d;
g++){f=h.dh[g];
if(!f.dO&&f.dT().cL(n,m)){c.fC(f)}}for(g=0,d=h.h0.length;
g<d;
g++){f=h.h0[g];
if(!f.er&&f.dT().cL(n,m)){c.hs(f)}}}l=k.fq;
if(l){if(l.dE.cL(n,m)||l.dD.cL(n,m)){c.fv(l)}}for(e=0,b=k.j_.length;
e<b;
e++){f=k.j_[e];
if(f.cX.cL(n,m)){c.ka(f)}}}function l7(c){var f=this,b,e,d,a;
if(!f.ff){b=[];
for(d=0,a=f.dS.length;
d<a;
d++){e=f.dS[d];
b.push(e);
if(!c){bW(b,e.dh)}}for(d=0,a=f.dh.length;
d<a;
d++){e=f.dh[d];
bX(b,e);
if(!c){if(bX(b,e.cW)){bW(b,e.cW.dh)}if(bX(b,e.cY)){bW(b,e.cY.dh)}}}for(d=0,a=f.h0.length;
d<a;
d++){e=f.h0[d];
b.push(e)}bN(b,f.fq);
bM(b,f.j_);
f.ff=b}return f.ff}function l8(d){var c=this,b=[],k=[],g,l,m,h,f,e,a;
for(h=0,f=c.dS.length;
h<f;
h++){g=c.dS[h];
if(!d||!g.dO){k.push(g);
b.push(g.cX)}}for(h=0,f=c.dh.length;
h<f;
h++){g=c.dh[h];
if((!d||!g.dO)&&!bK(c.dS,g.cW)&&!bK(c.dS,g.cY)){k.push(g.cW);
k.push(g.cY);
b.push(g.cW.cX,g.cY.cX)}}for(h=0,f=c.h0.length;
h<f;
h++){g=c.h0[h];
if(g.et){for(e=0,a=g.et.length;
e<a;
e++){b.push(g.et[e].dE,g.et[e].dD)}}if(!d){bN(b,g.e9);
bN(b,g.c2);
bN(b,g.c0)}if(d&&!g.er&&g.ha.length){for(e=0,a=g.ha.length;
e<a;
e++){l=g.ha[e];
if(!bK(k,l)){b.push(l.cX)}}}else{for(e=0,a=g.dS.length;
e<a;
e++){l=g.dS[e];
if(!bK(k,l)){b.push(l.cX)}}}}m=c.fq;
if(m){b.push(m.dE,m.dD)}for(h=0,f=c.j_.length;
h<f;
h++){b.push(c.j_[h].cX)}if(!d){bN(b,c.e9)}return b}function l9(k,h){if(!k){k=new b1()}h=(h==al?this.lU:h);
var d=this,c=new gU(h),b,f,a=[],g,e,l,j;
bG(k,d,c);
for(g=0,e=d.h0.length;
g<e;
g++){b=d.h0[g];
f=k.bZ(b);
c.hs(f,T);
l=b.ec;
j=k.bI[l.bD];
if(!j){j=new fj();
k.bI[l.bD]=j;
a.push(j)}j.hs(f,T)}for(g=0,e=d.dh.length;
g<e;
g++){b=d.dh[g];
f=k.bZ(b);
c.fC(f,T);
l=b.ec;
j=k.bI[l.bD];
if(!j){j=new fj();
k.bI[l.bD]=j;
a.push(j)}j.fC(f,T)}for(g=0,e=d.g_.length;
g<e;
g++){b=d.g_[g];
f=k.bZ(b);
bX(c.g_,f);
l=b.ec;
j=k.bI[l.bD];
if(!j){j=new fj();
k.bI[l.bD]=j;
a.push(j)}j.fC(f,T)}for(g=0,e=d.dS.length;
g<e;
g++){b=d.dS[g];
f=k.bZ(b);
c.fy(f,T);
l=b.ec;
j=k.bI[l.bD];
if(!j){j=new fj();
k.bI[l.bD]=j;
a.push(j)}j.fy(f,T)}if(d.fq){c.fv(k.bZ(d.fq),T)}for(g=0,e=d.j_.length;
g<e;
g++){c.ka(k.bZ(d.j_[g]),T)}if(c.fH){bM(c.fH,a)}else{c.fH=a}for(g=0,e=c.fH.length;
g<e;
g++){j=c.fH[g];
j.gX=al;
j.ik()}if(d.e9){c.e9=d.e9.b0()}c.ho=d.ho;
c.dr();
return c
}function l_(h,b){var g=this,f,e=st.dn(),d,c,a;
if(!b){b=[]}else{if(bK(b,g)){return}}b.push(g);
if(h>a9){if(h!=a_){g.fH=al;
g.jr=al}g.e9=al;
g.ff=al}if(h!=a_){f=g.lO();
for(c=0,a=f.length;
c<a;
c++){f[c].e_(ba,b)}if(d=g.fq){d.e_(h,b)}}e.e_(h,b);
b.pop()}function ma(d,a,b,c){this.kZ=b;
this.kX=d;
this.kY=a;
this.cH=c}function mb(h,k){var b=[],l=h.ls(),m,g,f,d,e,a,c;
bP(l,this.dS);
for(e=0,a=l.length;
e<a;
e++){c=l[e];
if(c.eg){continue}for(g=0,f=this.dS.length;
g<f;
g++){d=this.dS[g];
if(d.eg){continue}m=c.cX.cH(d.cX,T);
if(m<=k){b.push(new ma(c,d,this,m));
break}}}return b}function mc(m,n){var e=this,d=[],p=m.lw(),b,a,o,l,k,g,h,c,f;
bP(p,e.dh);
for(h=0,c=p.length;
h<c;
h++){f=p[h];
if(f.cW.eg||f.cY.eg){continue}for(l=0,k=e.dh.length;
l<k;
l++){g=e.dh[l];
if(g.cW.eg||g.cY.eg){continue}if((b=f.cW.cX.cH(g.cW.cX,T))<=n&&(a=f.cY.cX.cH(g.cY.cX,T))<=n){d.push(new ma(f,g,e,0.5*(b+a)));
break}if((b=f.cW.cX.cH(g.cY.cX,T))<=n&&(a=f.cY.cX.cH(g.cW.cX,T))<=n){o=new ma(f,g,e,0.5*(b+a));
o.eF=T;
d.push(o);
break}}}return d}function md(b,a){if(!a){a=this.dT().b0()}fa.apply(this,arguments)}function gU(a){var b=this;
eK.apply(b);
b.lU=a;
b.dS=[];
b.h0=[];
b.dh=[];
b.g_=[];
b.j_=[];
b.e_=l_;
b.fM=lJ;
b.lS=lI;
b.jm=lK;
b.cut=lR;
b.copy=lL;
b.lO=lP;
b.me=lQ;
b.mf=lN;
b.mg=lG;
b.ungroupGroups=lH;
b.dq=l7;
b.jG=fe;
b.e8=l8;
b.ez=md;
b.mh=mb;
b.mi=mc;
b.addAll=b.bM=lF;
b.addRectSelection=l5;
b.mj=l6;
b.fy=lT;
b.fi=lV;
b.hs=lW;
b.hF=lX;
b.fC=lY;
b.fh=lZ;
b.ka=l3;
b.kt=l4;
b.fv=l1;
b.ku=l2;
b.fm=l0;
b.b0=l9}function mk(){var b="",A=fN[H].m,f=fN[H].fQ,n=st.gd(),a=n.dS.length,c={},o="",l=0,r=0,y={},u="",k=0,v=0,z,m,w,h,t,p,q,x,e=st.dn().ls(),d,g;
n.g_=[];
n.ho=T;
for(t=0,p=e.length;
t<p;
t++){d=e[t];
if(!d.du){z=d.eg;
m=(z&&z.type==as&&z.hd)||1;
if(y){k+=m*d.g3(F);
v+=m*d.g3(T);
y[d.df]=bt(y[d.df])+m;
h=d.ep();
y[H]=bt(y[H])+(m*h);
k+=m*A*h;
v+=m*f*h}if(z){if(z.type==as&&!z.hd){k=al;
v=al;
y=al;
u=s("poly");
break}}}}for(t=0,p=a;
t<p;
t++){d=n.dS[t];
z=d.eg;
m=(z&&z.type==as&&z.hd)||1;
if(c){l+=m*d.g3(F);
r+=m*d.g3(T);
c[d.df]=bt(c[d.df])+m;
h=d.ep();
c[H]=bt(c[H])+(m*h);
l+=m*A*h;
r+=m*f*h}if(w){if(!w.bF(d.hZ)){n.ho=F}}else{w=d.hZ}if(z){n.ho=F;
if(z.type==as&&!z.hd){l=al;
r=al;
c=al;
o=s("poly")}}for(q=0,x=d.dh.length;
q<x;
q++){if(!d.dh[q].du){n.g_.push(d.dh[q])}}}for(t=0,p=n.dh.length;
t<p;
t++){g=n.dh[t];
if(w){if(!w.bF(g.cW.hZ)){n.ho=F}}else{w=g.cW.hZ}if(g.eg){n.ho=F}if(!g.cW.du||!g.cY.du){n.g_.push(g)}}n.ho=(n.ho&&a>0&&n.g_.length<=2);
if(c){o=ml(c)}if(y){u=ml(y)}mm($("#bondRotate"),n.g_.length==1);
mm($("#groupSelection"),n.ho);
mm($("#ungroupSelection"),n.h0.length);
if(a){b+=s("sele")+":&nbsp;"+o+mn(l,r);

if(u){b+=S+s("rem")+":&nbsp;"+u+mn(k,v)}}$("#info").html(b)}function mn(b,a){if(b>0){return"&nbsp;("+round(b,2,3)+"/"+round(a,4,3)+")"}return""}function ml(h){var f,b,a=[C,H],d,e,g,c="";
be(h);
for(f=0,b=a.length;
f<b;
f++){d=a[f];
e=h[d];
if(e>0){c+=d;
if(e>1){c+=aE+e+aF}}}for(d in h){e=h[d];
g=fN[d];
if((!g||!g.fP)&&e>0){c+=d;
if(e>1){c+=aE+e+aF}}}return c}function dn(){var a=this;
if(a.mo){return a.mo}a.mp=bw(a.mp,0,a.mq.length-1);
return a.mq[a.mp]}function gd(){return this.dn().kc}function gI(){return this.mr}function ms(a){this.mr=a}function mt(){if(this.mr){this.mr.mu=al;
this.mr.mv=al;
this.mr=al}}function mw(){if(this.mx()){this.my();
resetDirty(aV);
this.mp--;
mz(aV);
this.dn().eT();
mk()}}function mA(){return this.mp>0}function mB(){if(this.mC()){this.my();
resetDirty(aV);
this.mp++;
mz(aV);
this.dn().eT();
mk()}}function mD(){return this.mp<this.mq.length-1}function mE(){var a=this.mq.length-mF;
if(a>0){this.mq.splice(0,a);
this.mp-=a}}function mG(){var a=this;
a.mE();
a.mq.splice(a.mp,0,st.dn().b0(new b1(T)));
a.mp++;
a.mq.length=a.mp+1}function mH(a){var b=this;
b.mE();
b.mp++;
b.mq[b.mp]=a;
b.mq.length=b.mp+1}function mI(){var b=this,a=b.mq[b.mp];
b.mq[b.mp]=a.b0(new b1(T));
b.mo=a}function mJ(){return !!this.mo}function my(){var a=this;
if(a.mo){a.mo.dj();
a.mo=al;
a.mt();
a.dn().eT()}}function mK(){var a=this;
if(a.mo){a.mH(a.mo);
a.mo=al;
a.mt();
mk()}}function mL(){var a=this;
a.mq=[];
a.mq[0]=new fl(aV);
a.mp=0;
a.gH=F;
a.mI=mI;
a.mJ=mJ;
a.my=my;
a.mK=mK;
a.dn=dn;
a.gd=gd;
a.gI=gI;
a.ms=ms;
a.mt=mt;
a.mE=mE;
a.mG=mG;
a.mH=mH;
a.undo=mw;
a.mx=mA;
a.redo=mB;
a.mC=mD}function mM(a){$("#"+a).click()}function activateTool(d,b){mN();
mO(gJ,b);
if(gJ!=b){mP=F;
var a=F;
switch(b){case aQ:case aR:mQ();
a=T;
break;
case aT:case aU:a=T;
break;
case aL:mP=T;
break}if(!a){$(mR).css({border:"",d0:""});
$(d).css({border:"1.5px solid black",d0:"0.5px"});
mR=d}gJ=b}else{if(gM&&b==aP){var c=st.gd();
if(!c.fM()){mS()}}}hT()}function mO(b,a){switch(b){case aQ:case aR:gL=F;
st.my();
break}}function mT(){mU(mR)}function mU(a){if(a){$(a).trigger("click",{mV:T})}}function mW(a){mX=a.ctrlKey;
return ex(a)}function mY(c){if(!st.gH){var a=new FileReader(),b;
a.onload=function(e){var d=e.target.result;
if(mX){activateTool(al,aQ);
mZ(new fl(aV,d))}else{lz(d)}};
if(c.dataTransfer){b=c.dataTransfer.files
}else{if(c.target){b=c.target.files}}if(b){a.readAsText(b[0]);
return ex(c)}}}function m0(b,a){if(b&&(!a||!a.mV)){m1=b.target}}function m2(a){m1=al}function m3(d){if(!d||!d.data||!d.data.mV){m0(d);
var c=$(m1).parent().children(at),a=aV.height,b=c.height();
c.fadeIn(50).css("z-index",10000);
c.css(c.offset().top+b>a?{position:"absolute",top:(a-b-25)+"px"}:{position:al,top:al})}}function m4(a){setTimeout(function(){if(!a){m2()}var b=$(at).filter(":visible");
if(b.length){if(m1){b=b.not($(m1).parent().children())}if(b.length){if(m5){b.hide()}else{b.fadeOut(100)}}}if(gM&&!b.length){m3()}},100)}function m6(a){if(a.target.tagName.toLowerCase()=="img"){a3.prop("src",a.target.src);
a4=T;
m7()}}function mQ(){a4=F;
m8()}function m7(){if(a4){a3.show()}}function m8(){if(a4){a3.hide()}}function m9(){var b=navigator.userAgent.toLowerCase(),a="";
if(/android|blackberry|kindle|mobile|phone/.test(b)){a="mobile"}else{if(/windows|macintosh|linux/.test(b)){a="desktop"}else{if(/Pad|Tablet/.test(navigator.userAgent)){a="mobile"}else{if(/CrOS|Mac/.test(navigator.userAgent)){a="desktop"}else{a=(m_()?"mobile":"desktop")}}}}return a}function m_(){return"ontouchstart" in document.documentElement}function setBond(a,b){gN=a;
gO=b}function hq(){hS(aV);
st.mG()}function ht(a){hT(T);
e6(a);
mk()}function na(h){for(var b=aY.val(),g,d,c="",f=0,a=b.length;
f<a;
f++){g=b.charCodeAt(f);
if((!d&&g>96&&g<123)||(g==104&&b!="Ph"&&b!="Rh"&&b!="Th")){g-=32}d|=(g>64&&g<91);
c+=String.fromCharCode(g)}if(b!=c){aY.val(c)}}function nb(d){if(nc){hp(F);
return}if(nd(aZ,d)||nd(a0,d)){return T}ne=T;
var c=d.which,b,a;
if(nd(aY,d)&&c!=13){if(!d.shiftKey&&((((a=aY.val())==""||!isNaN(bc(a)))&&c>64&&c<91)||(c==72&&a!="P"&&a!="R"&&a!="T"))){aY.val(a+String.fromCharCode(c));
return F}return T}b=(d.altKey?0.2:1);
switch(c){case 37:nf(-b,0);
break;
case 38:nf(0,-b);
break;
case 39:nf(b,0);
break;
case 40:nf(0,b);
break;
case 74:case 36:nf(0,0,b);
break;
case 75:case 35:nf(0,0,-b);
break;
case 33:ng();
nh();
break;
case 34:ni();
nh();
break}m4();
return ex(d)}function nd(a,b){return a&&b&&a.is(b.target)}function nj(a){return(nd(aY,a)||nd(aZ,a)||nd(a0,a)?T:ex(a))}function hp(a){if(a){nc=T}else{clearTimeout(nk);
nk=setTimeout(function(){nc=F},500)}}function nl(h){if(st.gH||nc){nc=F;
return}if(nd(aZ,h)||nd(a0,h)){return T}if(nd(aY,h)){if(h.which==27||h.which==113){aY.blur()}if(h.which!=13){return T}}var f=h.which,a,d=h.ctrlKey,b=h.altKey,g=(!d&&!h.shiftKey&&!b),c=st.gd();
switch(f){case 13:if(ef){hq();
ef.f5(gK());
e3(ef);
ht(aV)}else{if(!c.fM()){hq();
c.mg(gK());
ht(aV)}}break;
case 27:ef=al;
hR=al;
if(gL){nm=T;
gL=F;
st.my();
hS(aV)}else{st.mt();
clearSelection()}mT();
break;
case 46:if(c.fM()){mM("deleteButton")}else{mS()}break;
case 49:case 97:mM("single");
break;
case 50:case 98:mM(d?"clean2D":"double");
break;
case 51:case 99:mM(d?"clean3D":"triple");

break;
case 65:if(d){hq();
c.bM();
ht(aV)}else{mM(aG)}break;
case 67:if(d){copy()}else{if(g){a=T}}break;
case 68:mM("singleDown");
break;
case 69:mM(aK);
break;
case 71:if(d){if(h.shiftKey){doUngroup()}else{createGroup()}}break;
case 76:if(g){a="Cl"}break;
case 77:mM("singleEither");
break;
case 66:case 70:case 72:case 73:case 78:case 80:if(g){a=T}break;
case 79:if(d&&b){$("#fileUpload").click()}else{if(g){a=T}}break;
case 81:mM(aL);
break;
case 82:if(g){a="Br"}break;
case 83:if(d&&b){saveFile()}else{if(g){a=T}}break;
case 84:mM("3d_rotate");
break;
case 85:if(d){doUngroup()}else{mM("singleUp")}break;
case 86:if(d){paste()}else{mM(aM)}break;
case 87:mM(aI);
break;
case 88:if(d){cut()}break;
case 89:if(d){st.redo()}break;
case 90:if(d){st.undo()}break;
case 107:case 171:case 187:if(ef){hq();
ef.g1(1);
e3(ef);
ht(aV)}break;
case 109:case 173:case 189:if(ef){hq();
ef.g1(-1);
e3(ef);
ht(aV)}break;
case 110:case 190:if(ef){hq();
ef.g2();
e3(ef);
ht(aV)}break;
case 113:aY.focus().select();
break}if(a){if(a===T){a=String.fromCharCode(f)}aY.val(a);
if(ef){hq();
ef.f5(gK());
e3(ef);
ht(aV)}}return ex(h)}function nn(b){var a=1/hG;
return new b8((b.x-0.5*no.x)*a+np.x,(b.y-0.5*no.y)*a+np.y)}function nq(a){var b=aW.offset();
return nn(new b8(a.pageX-b.left,a.pageY-b.top))}function nr(b,a){if(a){ns=[];
nt="M"+b;
nu={x:b.x,y:b.y,x2:b.x,y2:b.y}}else{nt+="L"+b;
nu.x=M.min(nu.x,b.x);
nu.x2=M.max(nu.x2,b.x);
nu.y=M.min(nu.y,b.y);
nu.y2=M.max(nu.y2,b.y)}ns.push(b)}function nv(){return(ef?ef.ec:(nx?nx.ec:(hR?hR.ec:al)))}function mN(){ef=nx=hR=kM=kO=al}function ny(b){if(parent){parent.postMessage("focused","*")}if(gL||b.which!=1||st.gI()){return}m4();
nz(b);
gL=T;
nm=F;
nA=ef;
nB=nx;
nC=hR;
nD=kO;
nE=kM;
nF=F;
var d=nq(b),a,c;
nr(d,T);
if(!st.gH){switch(gJ){case aK:case aL:case aT:case aI:case aG:case aH:case aP:case aJ:st.mI();
break;
case aM:case aN:case aO:a=st.gd();
st.mI();
if(a.fM()){a=new gU(T);
if(c=nv()){a.fm(c)}else{a.bM()}}mN();
st.ms(a);
break}}if(!st.gH){return ex(b)}}function nG(c,d,b,a){if(d4){nH(c,d,b,a)}else{nI+=b;
nJ+=a;
if(nK){clearTimeout(nK)}nK=setTimeout(function(){nH(c,d,nI,nJ);
nI=0;
nJ=0},500)}return ex(c)}function nH(d,h,c,a){var g=nq(d),f,j,k,b,i;
if(st.gH||d.ctrlKey){if(a<0){zoomOut()}else{zoomIn(co(g,np))}}else{if(d.shiftKey){f=(d.altKey?0.5:2.5);
if(d.ctrlKey){nf(-a*f,c*f)}else{nf(c*f,-a*f)}}else{if(!(j=st.gI())){hq();
j=st.gd();
if(j.fM()){j=new gU(T);
j.bM()}}f=-M.PI*a/(d.altKey?ae:12);
if(gJ==aO){i=j.g_[0];
k=(i.cW.du?i.cW:i.cY);
b=(i.cW.du?i.cY:i.cW);
j.eO(f,k.cX.b0(),b.cX)}else{k=j.mf();

j.eA(f,(k?k.cX.b0():al))}}}mN();
hS(aV);
hT();
nL()}function nM(y){m4();
if(st.gH&&y.which!=1){nN()}else{if(y.which==1&&!nm){nz(y);
var f=nO,q=ns[0],b=st.dn(),z,n,t,c,w,u,l,o,x,d,j,r,h,k,g,p,m,v={},a=(st.gH?aU:gJ);
if((nF||!y.ctrlKey)&&(z=st.gI())){t=z.mi(b,nP);
for(w=0,u=t.length;
w<u;
w++){b.lB(t[w],v)}c=z.mh(b,nP);
for(w=0,u=c.length;
w<u;
w++){b.lA(c[w],u==1)}n=z.lO();
nQ(n);
for(w=0,u=n.length;
w<u;
w++){b.fm(n[w])}b.lx();
z.e_(a8);
st.mK()}else{if(!nF&&y.ctrlKey&&(l=(ef||nx))){switch(a){case aP:b.jH(l.ec);
st.mK();
break;
default:o=st.gd();
if(!y.shiftKey){o.jm()}o.fm(l.ec);
st.mK()}}else{switch(a){case aU:if(nF){zoomBox(q,f)}else{zoomIn(f)}break;
case aM:case aN:case aO:st.mK();
break;
case aK:case aL:if(!z){o=st.gd();
if(!y.shiftKey){o.jm()}x=0;
if(!nF){x=3;
if(nx){o.fC(nx)}if(kO){o.fv(kO)}if(kM){o.ka(kM)}}if(a==aK){o.addRectSelection(q,f,x)}else{nr(f);
nr(q);
o.mj(ns,nu)}}st.mK();
break;
case aS:if(!hR){hq();
d=b.kr(f);
e3(d);
ht(aV)}break;
case aT:if(hR){st.my()}else{if(!nF){f.x+=kT}b.k6(q,f);
e3(b);
st.mK();
mT()}break;
case aI:if(nx&&!ef&&!nF){nx.iA();
st.mK()}else{r=F;
if(nA){j=nA.ec;
if(!nA.eg&&nA.bF(ef)){f=f9(nA,1);
k=new f8(f);
g=new ga(nA,k,1,0);
j.fy(k);
j.fC(g);
k.f5(gK());
e3(nA);
hS(aV);
st.mK();
break}}else{if(jz=="rxn"||!b.fH.length){j=new fj();
b.fm(j);
r=T}else{j=b.fH[0]}}if((!nA||!nA.eg)&&(!ef||!ef.eg)&&jj(y,q,f,j,nA,ef)){if(r){b.kl();
b.km()}st.mK()}else{st.my()}}break;
case aG:if(ef){ef.f5(gK());
e3(ef);
st.mK();
break}case aH:if(nx&&!ef&&!nF){nx.iA();
st.mK()}else{if(hR){st.my()}else{if((nB&&!nA)||(nA&&nA.eg)||(ef&&ef.eg)){st.my()}else{p=gK();
f_.fL();
h=nA;
k=ef;
if(h&&k&&!k.bF(h)){if(g=h.gZ(k)){g.iA()}else{h.ec.fD.jo(h,k)}}else{if(k&&k.bF(h)){nF=F;
k=al}if(!nF){f=al}r=F;
m=[];
if(jz!="rxn"){j=b.fH[0]}else{if(h){j=h.ec}else{if(k){j=k.ec}}}if(!j){j=new fj();
b.fm(j);
r=T}if(!h){h=new f8(q.b0());
j.fy(h);
m.push(h)}if(!k&&(nF||nA||(a==aH&&p==C))){k=new f8(f9(h,gN,f,y));
j.fy(k);
m.push(k)}j.fC(new ga(h,k,gN,gO));
for(w=0,u=m.length;
w<u;
w++){m[w].f5(p)}if(r){b.kl();
b.km()}}st.mK();
gL=F;
hS(aV);
hT(T)}}}break;
case aP:if(hR){hR.ec.hF(hR);
hR=al}else{if(ef){ef.ec.fi(ef);
ef=al}if(nx){nx.ec.fh(nx);
nx=al}if(kO){kO.fD.ku(kO);
kO=al}if(kM){kM.fD.kt(kM);
kM=al}}st.mK();
break;
case aJ:if(ef){j=ef.ec;
if(j&&!ef.bF(j.ed)){e3(j.ed);

j.ed=ef;
e3(ef);
st.mK()}else{st.my()}}break}}}gL=F;
if(a==aQ){if(nR){nS(y,y.pageX,y.pageY)}else{mT()}}nL()}}}function nT(g,i){var a={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},d=g.originalEvent,f=d.changedTouches,b=a[d.type],h,c;
if(b){if(i||f.length==1){h=f[0];
c=document.createEvent("MouseEvent");
c.initMouseEvent(b,true,true,window,1,h.screenX,h.screenY,h.clientX,h.clientY,false,false,false,false,0,null);
h.target.dispatchEvent(c);
d.preventDefault();
if(b=="mouseup"&&!nF){c=document.createEvent("MouseEvent");
c.initMouseEvent("click",true,true,window,1,h.screenX,h.screenY,h.clientX,h.clientY,false,false,false,false,0,null);
h.target.dispatchEvent(c)}return T}return F}}function hI(a){if(a){a.remove();
a.clear()}}function hS(a){if(!a){return}hI(a.jn);
if(!hR){hI(a.hJ)}if(!ef){hI(a.fs)}}function hT(e){var d=st.dn(),a=d.lt(nO),c=d.lv(nO),b;
if(ef&&(e||!ef.bF(a))){ef.g8();
e3(ef);
nU("outAtom",ef)}if(hR&&(e||!hR.bF(c))){hR.g8()}if(!a){ef=al;
b=d.lu(nO);
if(nx&&(e||!nx.bF(b))){nU("outBond",nx)}if(b&&(e||!b.bF(nx))){nU("overBond",b)}nx=b;
if(b){e3(b)}}else{if(e||!a.bF(ef)){ef=a;
if(nx){e3(nx);
nU("outBond",nx);
nx=al}ef.g7();
e3(ef);
nU("overAtom",ef)}}if(!c){hR=al}else{if(e||!c.bF(hR)){hR=c;
hR.g7()}}}function nU(a,b){$(window).trigger(a,{obj:b})}function nz(b){mX=b.ctrlKey;
var a=b.clientX,c=b.clientY;
if(gM){a2.css({left:a-4,top:c-4})}a3.css({left:a+30,top:c+30});
nO=nq(b);
hS(aV);
if(!ef){f_.fL()}hT()}function nV(b,a,c){if(d4){nW(b,a,c)}else{clearTimeout(nX);
nX=setTimeout(function(){nW(b,a,c)},250)}}function nW(h,p,n){nz(h);
aW.css("cursor","");
var o,c,j,l,b,q,t,m,d,a,r,g,f,k=(st.gH?aU:gJ);
if(gL){o=nO;
c=ns[0];
j=st.dn();
if(mP){nr(o)}if(!nF){nF=(o.cH(c)>nY);
if(nF){switch(k){case aK:case aL:if((nA&&nA.du)||(nB&&nB.du)||(nD&&nD.du)||(nE&&nE.du)){l=st.gd()}else{l=new gU(T);
if(nA){l.fy(nA)}else{if(nB){l.fC(nB)}else{if(nC){l.hs(nC);
hR=al;
hS(aV)}else{if(nD){l.fv(nD)}else{if(nE){l.ka(nE)}}}}}}if(!l.fM()){st.ms(l)}break}}}if(l=st.gI()){switch(k){case aM:case aO:if(nF){b=bt(l.mv);
q=M.atan2(o.y-c.y,o.x-c.x);
if(k==aO){r=l.g_[0];
t=(r.cW.du?r.cW:r.cY);
m=(r.cW.du?r.cY:r.cW);
l.eO(q-b,t.cX.b0(),m.cX)}else{l.eA(q-b,c)}l.mv=q;
l.eT();
aV.jn.push(aV.path("M"+c+"L"+o).attr(ax,"#f00").attr(az,c3),aV.text(o.x,o.y+30/hG,round(q*ag,1)+"°").attr(aw,2+20/hG))}break;
case aN:if(nF){b=(l.mu||c);
l.mu=o;
q=(h.altKey?0.01:0.1);
l.eB(q*(b.y-o.y),q*(o.x-b.x),l.dT())}break;
default:nZ(c,o,j,aV)}}else{switch(k){case aU:case aK:n0(aV,c,o);
break;
case aL:aV.jn.push(aV.path(nt+"Z").attr(n1));
break;
case aI:if((!nA||!nA.eg)&&(!ef||(!ef.eg&&!ef.bF(nA)))){jj(h,c,o,al,nA,ef)
}break;
case aG:case aH:if(nF&&!nB&&(!nA||!nA.eg)&&(!ef||(!ef.eg&&!ef.bF(nA)))){f_.fL();
t=nA;
m=ef;
d=[];
if(t&&(r=t.gZ(m))){r=f_.fC(r);
r.iA()}else{a=gK();
if(!t){t=f_.fy(new f8(c.b0()));
d.push(t)}if(!m){m=f_.fy(new f8(f9(t,gN,o,h)));
d.push(m)}f_.fC(new ga(t,m,gN,gO));
for(g=0,f=d.length;
g<f;
g++){d[g].f5(a)}}f_.eT()}break;
case aT:if(nF){f_.fK(c,o);
f_.eT()}break;
case aP:if(ef){ef.ec.fi(ef);
ef=al}if(nx){nx.ec.fh(nx);
nx=al}break}}}else{if(nx){switch(k){case aG:aW.css("cursor","move");
break;
case aH:e3(nx);
var r=f_.fC(nx);
r.iA();
f_.eT();
break}}}switch(k){case aK:case aL:if(ef||nx){aW.css("cursor","move")}break}nL()}function n0(d,c,e){var b=M.min(c.x,e.x),a=M.min(c.y,e.y);
d.jn.push(d.rect(b,a,M.abs(e.x-c.x),M.abs(e.y-c.y)).attr(n1))}function nZ(b,j,g,c){var h=st.gI(),m,l,d,a,n,k,f,e;
if(!h||st.gH){return}m=(h.mu||b);
l=j.cn(m);
h.ci(l.x,l.y);
h.mu=j;
if(g){d=h.mh(g,1.5*nP);
for(f=0,e=d.length;
f<e;
f++){a=d[f];
n=a.kY.cX;
k=a.kX.cX;
c.jn.push(c.ellipse(n.x,n.y,nP,nP).attr(n2).attr(aD,a.cH<nP?n3:n4));
c.jn.push(c.ellipse(k.x,k.y,nP,nP).attr(n2).attr(aD,a.cH<nP?n3:n4))}}}function n5(c,d,b){var a="templates/"+b+".mol";
jQuery.get(a,{},function(e){d.push(new n6(a,e,c));
n5(c,d,b+1)},"text")}function n7(){n8.server=[];
var a=$("#builtinTemplates").remove(".template");
if(!bx("noTemplates")){n5(a[0],n8.server,0)}}function addTemplate(b){var d,a,c=$("#serverTemplates"),e=n8.server;
if($.isArray(b)){for(d=0,a=b.length;
d<a;
d++){e.push(n9(b[d],c))}}else{e.push(d=n9(b,c));
return d}}function n9(a,b){return new n6(al,a,b)}function f6(b){if(!b){return}b=b.charAt(0).toUpperCase()+b.substr(1);
for(var d,c=0,a=n8.server.length;
c<a;
c++){d=n8.server[c];
if(d.ed&&$.inArray(b,d.n_)!=-1){return d}}}function oa(){if(this.url){jQuery.get(this.url,{},function(a){this.fD=new fl(this.c8,a);
this.eT()},"text")}}function ob(){var f=this,d=f.fD,c,b,a,e;
for(c=0,b=d.fH.length;
c<b;
c++){a=d.fH[c];
if(!f.ed){f.ed=a.ed}if(!f.tooltip){f.tooltip=a.a0}if(!$.isArray(f.n_)){f.n_=a.aZ}}e=bu(f.tooltip);
if(f.n_&&f.n_.length){e+=" ("+f.n_.join(",")+")"}f.oc.attr("title",e);
d.dQ();
f.c8.setViewBox(d.c2.x-od,d.c2.y-od,d.c0.x-d.c2.x+2*od,d.c0.y-d.c2.y+2*od);
a1.show();
d.eT();
a1.hide()}function nQ(c){for(var b=0,a=c.length;
b<a;
b++){e3(c[b].ed);
c[b].ed=al}}function oe(b,a,c){nR=F;
of=b.data.obj;
nS(b,a,c);
og();
setTimeout(m4,700)}function oh(b,a,c){nR=T}function nS(b,a,c){oi();
nV(b,a,c)}function oi(){activateTool(al,aQ);
mZ(of.fD.b0(),of.ed)}function mZ(c,b){st.mI();
var e=c.fH,g=st.dn(),d,a,f=new gU(T);

c.lE(aV);
for(d=0,a=e.length;
d<a;
d++){g.fm(e[d],F,T);
f.fm(e[d])}gL=T;
ns[0]=(b?b.cX:f.dT());
st.ms(f)}function oj(c){var b=c.data.obj,a=$(b.oc[0].firstChild).clone().attr("width",ok).attr("height",ok);
$("#overlay").empty().append(a).show().mouseenter(function(){$(".templatesMenu").hide()})}function og(){var a=$("#overlay");
if(ol){a.hide()}else{a.fadeOut()}}function f7(){var a=new b1();
this.fD.b0(a);
return a.bZ(this.ed)}function n6(b,a,c){var d=this;
d.url=b;
d.oc=$("<div>").css({display:"inline-block"}).addClass("button template").appendTo(c).click({obj:d},oe).dblclick({obj:d},oh).mouseenter({obj:d},oj);
d.c8=new Raphael(d.oc[0],om,on);
bC.apply(d.c8);
mz(d.c8);
d.fD=new fl(d.c8,a);
d.f7=f7;
d.reload=oa;
d.eT=ob;
d.eT()}var isReady=F,lang=bs(bx("lang"),"en"),bA=["en","de"],langDef={},oo=(typeof nw!="undefined"),op=!!bx("embedded"),d4=Raphael.svg,oq=$.browser.msie,ol=(oq&&$.browser.version<=8),gM=(m9()=="mobile"),iconSize=(gM?35:20),m5=(ol||$.browser.opera),np=new b8(),hG,or=1000,os=0.001,ot=0.25,hV=16,no,st,lM,f_,gJ,gN=1,gO=0,jz=bs(bx("mode"),"mol"),el=!!bx("debug"),nm=F,mX,nO,m1,ef,hR,nx,kM,kO,gL=F,nc=F,nk,nX,nK,nI=0,nJ=0,nF,mP=F,ns=[],nt="",nu={},nA,nC,nB,nE,nD,ou=4,nY=3,mR,of,nR=F;
bz();
var mF=30,i6=12,jl=30,om=50,on=50,eo=10,c1=eo*1.4,c_=2,c5=1.5,c4=0.06,c7=0.01,d0=1.5*eo,dt=7,kT=55,dB=7,dC=0.2,hw=0.5,nP=0.25*eo,ov=0.1,en=0.38,c3=(d4?0.333333333:1),dx=1,ek=0.02*eo,ej=6,hD=eo*0.5,jQ=eo*0.25,lj=2,jk=30,ok,hK="#000",dw=hK,c9=(el?"gray":"#fff"),ee="#f00",dv="#0f0",dG="#666",ei="#00f",eh="#f00",n3="#0f0",n4="#f00",n2={"stroke-width":0,"fill-opacity":0.4},n1={stroke:dv,fill:dv,"fill-opacity":0.2},hN={stroke:"deepskyblue",fill:"deepskyblue","fill-opacity":0.2,"stroke-width":c3},n8={},od=0.45*eo,ow=c1/720,ox=0.2,jZ=0.3,jY=0.6*c1,oy=0.3*c1,oz=400,oA=80,oB=0.6,oC=0.1;
function gK(){var a=aY.val();
if(!a){a=C}return a}function nh(){var a=1/hG;
if(aV){aV.setViewBox(np.x-0.5*a*no.x,np.y-0.5*a*no.y,no.x*a,no.y*a)}if(!d4){st.dn().eT()}}function oD(a){np=a;
nh()}function oE(a){if(!a){return ou}return M.max(M.min(a,or),os)}function nN(f){var c=st.dn(),b,e,a,d;
if(c.ls().length>0){c.dQ();
b=c.c2.x-d0;
e=c.c2.y-d0;
a=c.c0.x+d0;
d=c.c0.y+d0;
hG=oE(M.min(no.x/(a-b),no.y/(d-e)));
if(f&&hG>f){hG=f
}}else{hG=ou}oD(new b8(0.5*(b+a),0.5*(e+d)))}function zoomBox(a,b){hG=M.min(or,no.x/M.abs(b.x-a.x),no.y/M.abs(b.y-a.y));
oD(co(a,b))}function zoomIn(a){ng();
if(a){oD(a)}else{nh()}if(!st.gH){mT()}}function ng(){if(hG<or){hG/=1-ot}}function zoomOut(){if(gJ==aU){mT()}ni();
nh()}function ni(){if(hG>os){hG*=1-ot}}function nf(b,a,f){var e=b*eo/hG,d=a*eo/hG,c=st.gd();
if(st.gH||c.fM()){np.x+=e;
np.y+=d;
if(f&&!st.gH){hq();
st.dn().ci(0,0,f);
ht(aV)}nh()}else{hq();
c.ci(e,d,f);
ht(aV)}hT()}function ex(a){if(ol){if(!a){a=window.event}a.returnValue=F;
a.cancelBubble=T}else{a.preventDefault();
a.stopPropagation()}return F}function ey(a){if(!gL){return ex(a)}}function h_(){}function oF(){if(!aW){aW=$("#svgParent")}if(aV){aV.canvas.style.display="none"}no=new b8(aW.width(),aW.height());
if(aV){aV.canvas.style.display="";
aV.setSize((d4?"100%":no.x),no.y)}else{aV=new Raphael("svgParent",(d4?"100%":no.x),no.y);
bC.apply(aV);
aV.oG=T;
st=new mL();
mz(aV);
f_=new fI();
aV.canvas.onselectstart=ex;
aW.mousedown(ny).mousemove(nV).mouseup(nM).mousewheel(nG).mouseover(m7).mouseout(m8).bind("touchstart",nT).bind("touchmove",nT).bind("touchend",nT)}nh()}function clearSelection(){hq();
st.gd().jm();
ht(aV)}function mS(){hq();
st.gd().lS();
ht(aV)}function cut(){hq();
st.gd().cut();
ht(aV)}function copy(){st.gd().copy()}function paste(){activateTool(al,aR);
st.mI();
var d=lM.b0(al,T),c,a,b=d.lO(),e=st.dn();
for(c=0,a=d.j_.length;
c<a;
c++){e.ka(d.j_[c])}for(c=0,a=b.length;
c<a;
c++){e.fm(b[c])}gL=T;
ns[0]=d.dT();
st.ms(d);
hT()}function flip(a){hq();
var b=st.gd();
if(b.fM()){b.bM();
b.eF(a,np);
b.jm()}else{b.eF(a)}ht(aV)}function doUngroup(){var a=st.gd();
if(hR){hq();
hR.hW();
ht(aV)}else{if(!a.fM()){hq();
a.ungroupGroups();
ht(aV)}}}function clearReaction(){lz("")}function mz(a){a.clear();
a.jn=a.set();
a.hJ=a.set();
a.fs=a.set();
a.hP=a.path("M0,0");
a.e4=[]}function saveFile(){oH(open("data:chemical/x-mdl-molfile;fileName="+(jz=="rxn"?"reaction.rxn":"molecule.mol")+";content-disposition=attachment,"+encodeURIComponent(ly()),"Download"))}function saveSVG(){if(aV&&aV.canvas){var c=st.dn(),b,a;
c.dQ();
b=c.c0.x-c.c2.x+2*d0;
a=c.c0.y-c.c2.y+2*d0;
aV.setSize(b,a);
aV.setViewBox(c.c2.x-d0,c.c2.y-d0,b,a);
oH(open("data:application/octet-stream;fileName=structure.svg;content-disposition=attachment,"+encodeURIComponent(aV.canvas.outerHTML),"Download"));
oF()}}function oH(a){setTimeout(function(){a.close()},500)}function nL(){e6(aV)}function ly(){st.my();
return st.dn().ly()}function lz(b){if(!aV){oF()
}mz(aV);
var a=new fl(aV,b);
st.mH(a);
if(d4){a.eT()}ht(aV);
nN(3)}function getReadOnly(){return st.gH}function setReadOnly(b){if(st.gH!=b){st.gH=b;
var a=$("#leftCol");
if(b){a.attr("data-width",a.attr("width"));
a.attr("width",1);
$(".toolbar").hide();
f_.fL();
st.my();
mN();
hS(aV);
nL();
mQ()}else{a.attr("width",a.attr("data-width"));
$(".toolbar").show();
a4=T}}}function getDisplayAtomNumbers(){return st.db}function setDisplayAtomNumbers(a){if(st.db!=a){st.db=a;
st.dn().eT()}}function highlightAtom(e,b,a){if(a==al){a=T}var d=st.dn().fH[bt(b)],c;
if(d){c=d.dS[e];
if(c){c.dc=a;
c.eT()}}}function unhighlightAtoms(b){var a=st.dn(),e,d,c;
if(b!=al){e=a.fH[bt(b)];
for(c=e.dS.length-1;
c>=0;
c--){d=e.dS[c];
if(d.dc){d.dc=F;
d.eT()}}}else{for(c=a.fH.length-1;
c>=0;
c--){unhighlightAtoms(c)}}}function highlightBond(c,b,a){if(a==al){a=T}var d=st.dn().fH[bt(b)],e;
if(d){e=d.dh[c];
if(e){e.dc=a;
e.eT()}}}function unhighlightBonds(b){var a=st.dn(),d,e,c;
if(b!=al){d=a.fH[bt(b)];
for(c=d.dh.length-1;
c>=0;
c--){e=d.dh[c];
if(e.dc){e.dc=F;
e.eT()}}}else{for(c=a.fH.length-1;
c>=0;
c--){unhighlightBonds(c)}}}function unhighlightAll(a){unhighlightAtoms(a);
unhighlightBonds(a)}function showURL(a){var c=$("#infoArea"),b=(gM?1.8:1);
if(!a){c.hide();
oF()}else{if(c.firstChild||(no.x>600*b&&no.y>400*b)||!open(a)){c.show().height("50%");
$("#infoContent").html("<iframe src="+br(a)+' width="99%" height="'+(ol?0.5*no.y:"95%")+'"/>');
oF()}}}function getMode(){return jz}function getParams(){return"?lang="+lang+"&mode="+jz+"&embedded="+(op||"")}function mm(b,a){ol?(a?b.show():b.hide()):(a?b.slideDown():b.slideUp())}function getImgSt(a){return'<img src="icons/'+a+(d4?'.svg" width="'+iconSize+'" height="'+iconSize+'"':'.png"')}$(window).load(function(){aX=$("html");
aY=$("#newAtomSym");
aZ=$("#templateShortcuts");
a0=$("#templateName");
a1=$(".templatesMenu").css({opacity:0.85}).mouseleave({obj:this},og);
a3=$("#editIcon");
$("#fileUpload").change(mY);
$.event.props.push("dataTransfer");
aX.bind("drop",mY).bind("dragover",mW).bind("dragend",ex).keydown(nb).keyup(nl);
if(oo){aX.bind("contextmenu",ex)}if(!el){$("body").bind("contextmenu",ex)}aX.onscroll=ex;
if(gM){aX.bind("input",na)}window.onresize=oF;
var a=M.min(aX.width(),aX.height());
hG=oE(0.01*a);
ok=M.min(600,a)+am;
oF();
var b=aW.offset();
$("#overlay").css({left:b.left+am,top:b.top+am});
if(jz=="rxn"){$(".modeRxn").show()}else{if(jz=="tmpl"){$(".modeTmpl").show()}else{$(".modeMol").show()}}if(!ol&&!op){$(".modeFile").show()}if(op){$("#copyright").hide();
$("#info").css("font-size","7pt")}if(bx("readonly")){setReadOnly(T)}else{$(au+" > img").mouseenter(m3).click(m0);
$(au).mouseleave(m4);
$(at).click(m2);
$(au).click(m4);
$(".tool").click(m6);
$("td.separator + td").addClass("afterSeparator");
n7();
bB();
mU(".defaultTool");
if(!bx("nofocus")){aY.focus().blur()}}$.rule(".menuPopup").css("left",(iconSize+6)+"px");
if(gM){a2=$("#touchCursor").show();
$.rule("input,.button").css("font-size","20pt");
aY.click(function(){this.select()})}isReady=T
});
function cleanStructure(d){st.my();
var e,c=st.gd(),f=[],b,a;
hq();
if(c.fM()){f.push(st.dn())}else{f=c.me()}for(b=0,a=f.length;
b<a;
b++){e=f[b];
e.jf(d);
e.eT()}ht(aV);
nN(3);
if(of&&gJ==aQ){oi()}}function lD(e){var g=this,f=g.fH,b,d,a,c=0,h;
g.ku(F);
for(d=g.j_.length-1;
d>=0;
d--){g.kt(g.j_[d],T)}for(d=f.length-1;
d>=0;
d--){b=f[d];
if(!b.dS.length){bR(b,g.fH);
if(d<g.kb){g.kb--}}}h=g.kb;
for(d=0,a=f.length;
d<a;
d++){b=f[d];
b.jf(e);
if(d==h){g.k6(c,al,T);
c+=kT+d0}else{if(d>0){g.kr(c,0,T);
c+=dt+d0}}b.dQ();
b.jw(c);
c+=(b.c0.x-b.c2.x)+d0}if(d==h){g.k6(c)}g.kb=h;
nN(3);
mN()}function j8(d){if(!this.jr){this.ik()}for(var e=this,c=e.j5(),b=0,a=e.jr.length;
b<a;
b++){e.jr[b].jf(d,c)}}function jg(c,b){var d=this,a=d.dT().b0();
new oI(d,c,b);
d.ci(a.cn(d.dT()))}function oJ(){var e=this,c=e.hZ,g,h,f=e.oK(),l=e.oL(),b=e.oM(),j,d,a,i=oB,k=c.jh();
while((e.oN=f+l+b)>oC){if(g==1||(!g&&b>f)){e.oO(i);
h=1}else{e.oP(i);
h=2}j=e.oK();
d=e.oL();
a=e.oM();
if(j+d+a<e.oN){f=j;
l=d;
b=a;
k=c.jh();
i*=0.98}else{c.ji(k);
if(M.abs(i)<0.05){break}if(g){i*=0.5;
g=0}else{i*=-0.8;
if(h==1){g=2}else{g=1}}}}}function oQ(){var c=this,a=!c.oR,b=c.hZ,k,f,e,h,d,m,n,l,g,o=0;
c.oS=[];
for(k=0,f=b.dS.length;
k<f;
k++){h=b.dS[k];
for(e=0;
e<k;
e++){d=b.dS[e];
m=h.cX.cH(d.cX,a);
if((n=jY*(a?1:2)-m)>0){l=jZ*n*n;
c.oS.push(new oT(h,d,m,n,l));
o+=l}}if(a){o+=M.abs(h.cX.z)}}for(k=0,f=b.dh.length;
k<f;
k++){h=b.dh[k];
g=c1;
if(h.di==0){g*=1.3}m=h.cW.cX.cH(h.cY.cX,a);
if(m!=g){c.oS.push(h)}h.oU=g;
h.b6=m;
n=M.abs(g-m);
l=(m>oy?n:n*oz);
h.oV=l;
o+=l}return o}function oW(){var r=this,f=!r.oR,k=r.hZ,n,l,m,p,b,c,u,t,a,v,e,h,g,q,o=0;
for(n=0,l=k.dh.length;
n<l;
n++){c=k.dh[n];
u=c.cW;
t=c.cY;
a=t.cX.cn(u.cX,f);
if(!a.x&&!a.y&&!a.z){o+=oA;
continue}e=a.cp();
g=al;
for(m=0,p=k.dS.length;
m<p;
m++){b=k.dS[m];
if(!b.bF(u)&&!b.bF(t)){v=b.cX.cn(u.cX,f);
if((q=oy-e.ce(v).b6())>0){if((h=a.cb(v))>=0&&h<=(g||(g=a.cb(a)))){o+=oA*q*q}}}}}return o}function oX(){var e=this,b,a,d,f,c=0;
for(b=0,a=e.oY.length;
b<a;
b++){d=e.oY[b];
d.oZ();
f=ow*(ox*d.cH*d.cH+M.abs(d.cH));
d.oV=f;
c+=f}return c}function o0(){for(var f=this,d=0,c,a,e=[],b;
d<3;
d++){f.o1[d].oZ()}f.cH=0;
if(a=f.o2){for(d=0;
d<3;
d++){e[d]=[];
for(c=0;
c<3;
c++){e[d][c]=(f.o1[d].o3?M.abs(a[c]-f.o1[d].o2):0)}}b=o4(e);
for(d=0;
d<3;
d++){for(c=0;
c<3;
c++){if(f.o1[d].o3){if(c!=b[d]){e[d][c]=an}}else{e[d][c]=M.abs(a[c]-f.o1[d].o2)}}}b=o4(e);
for(d=0;
d<3;
d++){f.cH+=(f.o1[d].o2=e[d][b[d]])}}}function o4(e){for(var g=0,b=e.length,j=[],h=[],f,a,l,d;
g<b;
g++){h[g]=0;
j[g]=g}d=o5(e,j);
l=j.slice();
g=1;
while(d>0&&g<b){if(h[g]<g){f=g%2&&h[g];
a=j[g];
j[g]=j[f];
j[f]=a;
++h[g];
g=1;
if(o5(e,j)<d){l=j.slice()}}else{h[g]=0;
++g}}return l}function o5(e,d){for(var b=0,c=0,a=d.length;
b<a;
b++){c+=e[b][d[b]]}return c}function o6(){var d=this,b=d.o7,c=d.o8,a=d.gi;
d.o9=(d.o_.oR?jP(a,c,b):em(a,c,b));
d.cH=d.o9-d.o2}function pa(){var c=this,b=c.gi,a=b.dh.length;

if(a>3||a==b.gr()){if(a<5){c.o2=[ai,ai,ai]}else{if(a==5){c.o2=[ac,ac,ad]}else{if(a==6){c.o2=[ac,ac,ac]}else{if(a==7){c.o2=[72,ac,ac]}else{if(a==8){c.o2=[0.5*ai,ac,ac]}}}}}}else{c.o2=[ad,ad,ad]}}function pb(c){var h=this,b=h.o_,f=h.gi,a=f.dh.length,e=f.gr(),d=f.df,g;
if(e==4&&a==2){h.o2=ae}else{if((b.oR?a==e:a==4)&&(d=="P"||d=="S")){h.o2=ac}else{if(b.oR&&(d=="P"||d=="S"||a==e)){h.o2=ai}else{if(a==6||(a>3&&h.o9<90)){h.o2=60}else{if((g=b.pc)&&g.length&&a==3&&(d=="N"||d=="P")){h.o2=(c?210:(b.oR?90:75))}else{if(a==2&&h.o9>ae){h.o2=240}else{h.o2=ad}}}}}}}function pd(d,c){if(d.oV==c.oV){return 0}if(d.oV==undefined||d.oV<c.oV){return 1}return -1}function pe(l){var n=this.oS,k=this.oR,h,f,g,e,d,j,b,a,r,q,p=0,c,o,m;
if(n.length){l=M.abs(l);
n.sort(pd);
for(h=0,f=n.length;
h<f;
h++){g=n[h];
if(g.oV<0.1){break}if(h/f<M.random()){j=g.b6;
b=g.cW;
a=g.cY;
r=l*(a.cX.x-b.cX.x)*(g.oU-j)/j;
q=l*(a.cX.y-b.cX.y)*(g.oU-j)/j;
if(k){p=l*(a.cX.z-b.cX.z)*(g.oU-j)/j}o=b.dh.length;
m=a.dh.length;
c=o+m;
o/=c;
m/=c;
if(!(g instanceof ga)||g.dR().length==0){e=b.gV(a);
e.fh(g);
d=a.gV(b);
d.fh(g)}else{e=b.cX;
d=a.cX}e.ci(-r*m,-q*m,-p*m);
d.ci(r*o,q*o,p*o)}}if(!k){l=0.9-l;
for(n=this.hZ.e8(),h=n.length-1;
h>=0;
h--){n[h].z*=l}}this.hZ.cp()}}function pf(b,a){return(M.abs(b.cH)<31-M.abs(a)*50?0:(b.cH>0?-1:1))}function pg(w){var A=this.oY,x=this.ph,E,z,D,K,B,r,a,b,l,J,g=[],G,v,e,o,n,h,f,m=[],q=(w>0?1:0),t,I,u,L,d,p,y,N,c;
x.sort(pd);
for(E=0,z=x.length;
E<z;
E++){f=F;
r=x[E];
b=r.gi;
a=b.cX;
u=d=p=0;
L=a.eG(r.pi[0].cX,r.pi[1].cX,r.pi[2].cX);
for(D=0;
D<3;
D++){l=r.dh[D];
L/=l.cW.cX.cH(l.cY.cX)+Number.pj}if(t=(M.abs(L)<0.0001)){e=0;
for(D=0;
D<3;
D++){N=r.o1[D].o9;
e+=N;
if(N>u){u=r.o1[D].o9;
L=D}}e=(e<358);
u=pf(r.o1[L],w)}for(D=0;
D<3;
D++){d+=(J=pf(r.o1[D],w));
if(J==0){p++;
if(!t){L=D}}}if(p<3){y=[];
for(D=0;
D<3;
D++){l=r.dh[D];
if(l.dR().length){N=new gU(T);
N.fC(l);
N.fy(l.gn(b));
f=T}else{N=l.gV(b)}y.push(N)}if(t){c=r.o1[L];
if(M.abs(d)>1&&e){o=a.eC(c.o8.cX,c.o7.cX);
n=a.cA(o);
l=0;
for(D=0;
D<3;
D++){l+=(D==L?1:-1)*r.o1[D].cH;
g[D]=0}for(D=0;
D<3;
D++){if(D!=L){I=r.o1[D].cH+0.3*l;
for(B=0;
B<3;
B++){if(D!=B){g[B]+=(a.eG(r.dh[B].gn(b).cX,r.dh[D].gn(b).cX,n)>0?1:-1)*I}}}}for(D=0;
D<3;
D++){y[D].cq(g[D]*af,o,a)}}if(d<0||(e&&u<d-u)||(r.o1[L].o9>175&&r.o1[L].cH>0)){I=0;
for(B=0;
B<3;
B++){if(!e||L!=B){I-=r.o1[B].cH}}c=a.eC(c.o8.cX,c.o7.cX,r.pi[L].cX);
for(B=0;
B<3;
B++){y[B].cq(bw((B==L?0.5:-0.25)*I*w,-30,30)*af,c,a)}}}if(M.abs(d)>(t?2:1)){I=0;
c=a.eH(r.pi[0].cX,r.pi[1].cX,r.pi[2].cX);
for(D=0;
D<3;
D++){for(B=0;
B<3;
B++){if(D!=B){I-=r.o1[B].cH}}y[D].cq(bw(I*M.abs(w),-30,30)*af,c[D],a)}}else{if(p==1&&(!t||u==0)){for(B=0;
B<3;
B++){if(L!=B){if((h=r.o1[B].cH)>0){o=B}else{n=B}I+=M.abs(h)}}if(o+n){c=a.eC(r.pi[n].cX,r.pi[o].cX);
y[L].cq(bw(0.5*I*M.abs(w),-30,30)*af,c,a)}}}}if(f){for(B=0;
B<3;
B++){c=this.pk[r.pi[B].bD];
for(D=0,K=c.length;
D<K;
D++){c[D].oZ()}}}else{for(B=0;
B<3;
B++){r.o1[B].oZ()}}}if(A.length){A.sort(pd);
w=M.abs(w);
m=[];
for(E=0,z=A.length;
E<z;
E++){r=A[E];

if(r.oV<1){break}if(E/z<M.random()&&(E+q)%2){b=r.gi;
a=b.cX;
o=r.o8;
n=r.o7;
h=o.dh.length;
f=n.dh.length;
e=h+f;
c=a.eC(n.cX,o.cX);
if(K=r.pl.length){for(D=0;
D<K;
D++){G=r.pl[D];
v=G.gV(b);
v.cq(w/oB/K*r.cH*af*(G.iD(n)?1:-1),c,a)}}else{if(!bK(m,b)&&!bK(m,o)&&!bK(m,n)){m.push(b,o,n);
o.cX.cq(r.cH*w*f/e*af,c,a);
n.cX.cq(r.cH*-w*h/e*af,c,a)}}}this.hZ.cp()}}}function pm(p){var o=this.oY,h,f,e,c,g,k,b,t,d,r,q,m,l,a=[],n=(p>0?1:0);
p=M.abs(p);
if(o.length){o.sort(pd);
for(h=0,f=o.length;
h<f;
h++){g=o[h];
if(g.oV<1){break}if(h/f<M.random()&&(h+n)%2){k=g.gi.cX;
m=g.o8;
l=g.o7;
r=m.dh.length;
q=l.dh.length;
d=r+q;
if(c=g.pl.length){for(e=0;
e<c;
e++){b=g.pl[e];
t=b.gV(g.gi);
t.eA(p/oB/c*g.cH*af*(b.bF(g.dh[0])?1:-1),k)}}else{if(!bK(a,g.gi)&&!bK(a,m)&&!bK(a,l)){a.push(g.gi,m,l);
m.cX.eA(g.cH*p*q/d*af,k);
l.cX.eA(g.cH*-p*r/d*af,k)}}}}this.hZ.cp()}}function oT(c,b,a,e,d){this.cW=c;
this.cY=b;
this.oU=jY;
this.b6=a;
this.cH=e;
this.oV=d}function pn(a,d,c,b){var e=this;
bC.apply(e);
e.o_=a;
e.gi=d;
e.o8=c;
e.o7=b;
e.dh=[d.gZ(c),d.gZ(b)];
e.po=pp;
e.oZ=o6;
e.pq=pb;
e.oZ()}function pr(a,e,d,c,b){var f=this;
bC.apply(f);
f.gi=e;
f.pi=[d,c,b];
f.dh=[e.gZ(d),e.gZ(c),e.gZ(b)];
f.o1=[a.ps(e,c,b),a.ps(e,d,b),a.ps(e,d,c)];
f.po=pt;
f.oZ=o0;
f.pq=pa}function pu(g,f,d){for(var h=this,c=h.pk[g.bD],b,e=0,a=c.length;
e<a;
e++){b=c[e];
if((f.bF(b.o8)&&d.bF(b.o7))||(f.bF(b.o7)&&d.bF(b.o8))){break}}if(e==a){b=new pn(h,g,f,d)}return b}function pv(h,b,a,j){var e=this,c=e.pw[h.bD],g,f,d;
if(c){for(g=0,f=c.length;
g<f;
g++){d=c[g];
if(bK(d.pi,b)&&bK(d.pi,a)&&bK(d.pi,j)){break}}}else{c=[];
e.pw[h.bD]=c}if(g==f){d=new pr(e,h,b,a,j);
c.push(d);
e.ph.push(d);
d.po()}return d}function pt(){for(var a=0;
a<3;
a++){this.o1[a].po()}this.pq()}function pp(k){var b=this,f=b.o_,g=b.dh,e=g.length-1,d,c,h,j,a=(b.o9<ae||b.gi.dh.length>2);
if(!b.pl){if(a){b.pl=[];
for(;
e>=0;
e--){if(!g[e].dR().length){b.pl.push(g[e])}}f.pk[b.gi.bD].push(b)}j=bU(f.gX,g[0].dR(),g[1].dR());
if(d=j.length){for(e=0;
e<d;
e++){c=j[e];
h=f.px[c.bD];
if(!h){h=[];
f.px[c.bD]=h}if(a){h.push(b)}if(!c.o2){k=c.dS.length;
c.o2=(f.oR&&!c.iZ()&&(k==8||(k==6&&c.i0()))?ai:py(k))}}b.o2=(a?j[0].o2:aj-j[0].o2);
b.o3=T}else{b.pq(k)}}return !!d}function py(a){return ae-aj/a}function pz(d,c){if(d.o9<c.o9){return 1}if(d.o9>c.o9){return -1}return 0}function pA(){var p,l,h,b,g,f,d,e=this,c=e.hZ,t,u,r,q,o,a,w,v;
for(p=0,l=c.dS.length;
p<l;
p++){t=c.dS[p];
u=t.dh;
a=[];
e.pk[t.bD]=[];
b=u.length;
if(e.oR&&b>2){for(h=0;
h<b;
h++){r=u[h];
for(g=h+1;
g<b;
g++){q=u[g];
for(f=g+1;
f<b;
f++){o=u[f];
for(d=f+1;
d<b;
d++){if(u[d].iE().eJ(r.iE(),q.iE(),o.iE())){d=-1;
break}}if(d>0){e.pB(t,r.gn(t),q.gn(t),o.gn(t))
}}}}}else{if(b>1){for(h=0;
h<b;
h++){a.push(new gh(t,u[h].gn(t)))}a.sort(gj);
v=T;
for(h=0;
h<b;
h++){g=(h+1)%b;
w=e.ps(t,a[h].gi,a[g].gi);
if(!w.po(v)){v=F}}}}bW(e.oY,e.pk[t.bD])}}function pC(){for(var d,a,g=this.hZ.dS,h,f,n,k,m,b,l,e=0,c=g.length;
e<c;
e++){h=g[e];
n=this.pk[h.bD];
if((a=n.length)>2){m=0;
k=0;
if(!this.oR||a<4){b=aj}else{if(a<7){b=ai}else{if(a<11){b=96}else{if(a<16||a>21){b=ac}else{b=82.29}}}b*=a}for(d=0;
d<a;
d++){f=n[d];
if(f.o3){m+=f.o2}else{k+=f.o2}}k+=m;
if(this.oR?k>b:k!=b){if(m<b){l=(b-m)/(k-m);
for(d=0;
d<a;
d++){f=n[d];
if(!f.o3){f.o2*=l}}}else{l=b/k;
for(d=0;
d<a;
d++){f=n[d];
f.o2*=l}}}}}}function pD(){for(var d=this.hZ.dh,c,b=0,a=d.length;
b<a;
b++){c=d[b];
c.oU=al;
c.b6=al;
c.oV=al}d=this.gX;
a=d.length;
for(b=0;
b<a;
b++){d[b].o2=al}}function pE(d){if(d.dS.length<10){var b=this,h=d.dS,k,f,a=d.o2,m=b.px[d.bD],g,e=m.length,p,n=0,o=0,j,c,l;
for(g=0;
g<e;
g++){p=m[g];
if(M.abs(p.o2-a)<ov){n++}else{o+=a-p.o2}}if(o){j=o/n;
for(g=0;
g<e;
g++){p=m[g];
if(M.abs(p.o2-a)<ov){p.o2+=j}}}d.iX();
e=h.length;
if(b.oR){d.iO();
if(a==ai){a=py(e);
if(e==8){k=[[p=15,p,-p,-p,p,p,-p,-p,3]]}else{k=[[p=(ai-ac)*0.5,p,-p,p,p,-p,2],[p,-p,p,-p,p,-p,1]]}}if(k){f=an;
while(j=k.pop()){o=j.pop();
for(;
o>=0;
o--){c=0;
for(g=0;
g<e;
g++){c+=M.abs(d.iY(h[g])-j[g])}if(c<f){f=c;
n=j.slice()}if(f==0){break}if(o>0){bS(j)}}}j=n}a=ae-a;
k=h[0];
n=k.cX;
n.ci(d.iL.b7(-d.iL.cb(n.cn(d.e9))));
n.ez(0.5*c1/M.sin(0.5*a*af)/n.cH(d.e9),d.e9);
for(g=1;
g<e;
g++){k=h[g];
k.cX=n.b0();
k.cX.cq(a*g*af,d.iL,d.e9)}if(j){for(g=0;
g<e;
g++){k=h[g].cX;
k.cq(-j[g]*af,d.iL.ce(k.cn(d.e9)).cp(),d.e9)}}}else{for(g=1;
g<e;
g++){k=h[g];
f=h[g-1];
if(g==1){c=em(f,k);
k.cX=cQ(f.cX,c,c1)}else{p=bU(m,b.pk[k.bD]);
if(p.length==1){p=p[0];
if(!l){l=(h[2].cX.eu(h[0].cX,h[1].cX)?1:-1)}c+=(ae-p.o2)*l;
k.cX=cQ(f.cX,c,c1)}}}}}}function pF(){for(var c=this,b=0,a=c.gX.length;
b<a;
b++){c.pG(c.gX[b])}}function oI(a,j,e){var b=this,g=[],f,h,l,d,c,k=1;
b.hZ=a;
b.oR=j;
b.oY=[];
b.ph=[];
b.pk={};
b.pw={};
b.px={};
b.pc=e;
b.pH=pA;
b.oK=oQ;
b.oL=oW;
b.oM=oX;
b.oP=pe;
b.oO=(j?pg:pm);
b.pI=pF;
b.pG=pE;
b.pJ=pC;
b.jf=oJ;
b.pK=pD;
b.ps=pu;
b.pB=pv;
for(d=a.h0.length-1;
d>=0;
d--){c=a.h0[d];
if(c.type==ar){f=c.ha.slice();
h=c.dh.slice();
l=c.g_.slice();
c.hW(l,h);
g.push({df:c.df,dS:f,dh:h,g_:l})}}b.gX=iF(a.dR());
b.pH();
do{b.pI();
b.pJ();
b.jf();
k--}while(k>0&&b.oN>oC);
b.pK();
for(d=g.length-1;
d>=0;
d--){c=g[d];
a.ec.hr(c.df,c.dS,c.dh,c.g_)}a.e_(ba)}hideMenu=m4;
getMolRxnfile=ly;
setMolRxnfile=lz;
centerView=oD;
zoomFit=nN;
redrawChanged=nL;
delSelection=mS;
Point3D=b8;
pL=fl;
Molecule=fj;
Atom=f8;
Bond=ga;
Selection=gU;
